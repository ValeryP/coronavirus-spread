{"version":3,"sources":["PredictionChart.tsx","Storage.ts","Prediction.tsx","Dashboard.tsx","DailyNewDeaths.tsx","DeathsPerMillion.tsx","TestsPerCountry.tsx","ConfirmedPerCountry.tsx","SpeedOfGrowth.tsx","SymptomsAndFatality.tsx","EpidemicCalculator.tsx","Analysis.tsx","AddTabDialog.tsx","GenericTab.tsx","Onboarding.tsx","App.tsx","index.tsx"],"names":["PredictionChart","labelsPlot","dataExistingPlot","dataPredictedPlot","country","color","pageWidth","document","body","getBoundingClientRect","width","pageHeight","height","console","info","scrollDiv","commonLineStyle","backgroundColor","borderColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","pointBackgroundColor","fill","lineTension","borderCapStyle","borderDashOffset","borderJoinStyle","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointHitRadius","pastLineStyle","borderDash","pointRadius","predictionLineStyle","css","plugins","afterDraw","scrollTo","className","ref","el","data","labels","datasets","label","legend","options","maintainAspectRatio","scales","yAxes","type","display","position","id","gridLines","show","getStorageState","getCookie","name","nameEQ","ca","cookie","split","i","length","c","charAt","substring","indexOf","store","get","saveStorageState","isMigrated","tabMain","Number","userTabs","JSON","parse","decodeURIComponent","tabAnalysis","prediction","watchedOnboardings","set","stringify","octokit","Octokit","require","useStyles","makeStyles","theme","createStyles","root","marginLeft","margin","spacing","textAlign","formControl","minWidth","footer","opacity","latestUpdate","chart","infoIcon","palette","grey","A200","paddingTop","Prediction","classes","types","daysMapping","storage","useState","setLabels","setCountry","dataType","setDataType","countries","setCountries","days","setDays","setData","lastUpdate","setLastUpdate","inputCountryLabel","React","useRef","labelCountryWidth","setLabelCountryWidth","inputDaysLabel","labelDaysWidth","setLabelDaysWidth","inputDataTypeLabel","labelDataTypeWidth","setLabelDataTypeWidth","useEffect","current","offsetWidth","handleCountryChange","event","newCountry","target","value","ReactGA","category","action","handleDaysChange","newRange","_","findKey","handleDataTypeChange","newType","Papa","toLowerCase","skipEmptyLines","header","download","delimiter","complete","results","map","slice","keys","strDate","moment","add","toDate","concat","sortBy","row","repos","listCommits","owner","repo","then","x","latestCommitTime","values","fromNow","Grid","container","direction","justify","alignItems","item","FormControl","variant","InputLabel","Select","labelId","onChange","labelWidth","index","MenuItem","key","nextDayPrediction","allDays","currentDate","format","lastPart","mults","reduce","acc","previousValue","isNaN","remove","filter","avgMult","mean","range","v","Math","round","last","zipLabelsWithValues","dateLabels","zipObject","buildPrediction","labelsNormalized","existingData","predictionAcc","take","date","nextDayPredicted","findIndex","undefined","startingDay","Date","now","buildNextDaysLabels","dataPerCountry","countryToCheck","casesSelection","String","sum","find","isComplexRegion","region","state","getCasesPerCountry","indexOfFirstPacient","accuracy","deviationsAll","zipWith","existing","predicted","biggerVal","max","smallerVal","min","abs","rangeStart","deviations","calculateAccuracy","NaN","predictionTomorrow","findLast","Typography","ReactHtmlParser","lowerCase","Tooltip","title","arrow","TransitionComponent","Fade","buildChart","OutboundLink","eventLabel","to","Dashboard","src","style","border","marginTop","DailyNewDeaths","xs","DeathsPerMillion","rootBottom","marginBottom","TestsPerCountry","ConfirmedPerCountry","SpeedOfGrowth","paddingLeft","paddingRight","img","SymptomsAndFatality","Container","alt","Divider","EpidemicCalculator","Analysis","tabsUseStyles","setValue","buildTabTitle","selected","Tab","onClick","handleTabClick","tabSelected","tabDefault","AppBar","Tabs","newValue","scrollButtons","ind","TabPanel","textSuccess","success","dark","textError","error","saveButton","primary","DialogTitle","withStyles","padding","closeButton","right","top","props","children","onClose","other","disableTypography","IconButton","aria-label","DialogContent","MuiDialogContent","DialogActions","MuiDialogActions","Transition","forwardRef","Slide","countryToEmojiMap","emojiFlags","flag","emoji","AddTabDialog","isOpen","handleSave","handleClose","validUrl","setValidUrl","url","setUrl","loading","setLoading","resetState","onDialogClosed","handleCountrySelected","Dialog","aria-labelledby","open","fullWidth","dividers","minHeight","Zoom","in","role","Autocomplete","autoHighlight","onSelect","getOptionLabel","option","renderOption","renderInput","params","TextField","inputProps","autoComplete","fetch","method","res","ok","err","setTimeout","unmountOnExit","transitionDelay","CircularProgress","size","Button","GenericTab","Onboardings","Onboarding","run","steps","MAIN","content","placement","continuous","showSkipButton","styles","zIndex","callback","status","STATUS","FINISHED","SKIPPED","includes","storageState","uniq","component","hidden","Box","p","contrastText","main","secondary","App","onboarding","mainTab","setMainTab","showAddTabDialog","setShowAddTabDialog","setUserTabsRaw","handleAddTabClose","userTabsTitles","tabsDefault","tabs","userTabsStyles","fontSize","window","aria-haspopup","newTab","timestamp","unix","userTabsObj","initialize","pageview","location","pathname","createMuiTheme","ReactDOM","render","ThemeProvider","getElementById"],"mappings":"iSAGe,SAASA,EAAT,GAAgN,IAAtLC,EAAqL,EAArLA,WAAYC,EAAyK,EAAzKA,iBAAkBC,EAAuJ,EAAvJA,kBAAmBC,EAAoI,EAApIA,QAASC,EAA2H,EAA3HA,MACzFC,EAAYC,SAASC,KAAKC,wBAAwBC,MAClDC,EAAaJ,SAASC,KAAKC,wBAAwBG,OACzDC,QAAQC,KAAKR,EAAWK,GACxB,IAwEII,EAxEEC,EAAkB,CACpBC,gBAAiBZ,EAAQ,KACzBa,YAAab,EACbc,iBAAkBd,EAClBe,0BAA2Bf,EAC3BgB,sBAAuBhB,EAAQ,KAC/BiB,qBAAsB,OACtBC,MAAM,EACNC,YAAa,GACbC,eAAgB,OAChBC,iBAAkB,EAClBC,gBAAiB,QACjBC,iBAAkB,EAClBC,iBAAkB,GAClBC,sBAAuB,EACvBC,eAAgB,IAEdC,EAAa,eAAOhB,EAAP,CAAwBiB,WAAY,GAAIC,YAAa,IAClEC,EAAmB,eAClBnB,EADkB,CAErBiB,WAAY,CAAC,EAAG,GAChBC,YAAa,EACbjB,gBAAiB,SACjBC,YAAa,UACbW,iBAAkB,EAClBV,iBAAkB,UAClBC,0BAA2B,UAC3BC,sBAAuB,WAErBe,EAAG,iRAWM9B,EAAY,IAXlB,yGAekB,EAAZA,EAfN,sCAsCH+B,EAAU,CAAC,CACbC,UAAW,WAAO,IAAD,EACJ,QAAT,EAAAvB,SAAA,SAAWwB,SAAqB,EAAZjC,EAAe,MAI3C,OAAO,6BACH,+BACK8B,GAEL,yBAAKI,UAAU,gBACX,yBAAKA,UAAU,mBAAmBC,IAAK,SAACC,GACpC3B,EAAY2B,IAEZ,yBAAKF,UAAU,qBACX,kBAAC,IAAD,CAAMG,KAAM,CACRC,OAAQ3C,EACR4C,SAAU,CAAC,eACHb,EADE,CACac,MAAO1C,EAASuC,KAAMzC,IADnC,eAGCiC,EAHD,CAIFW,MAAO1C,EAAU,eACjBuC,KAAMxC,MAGf4C,OAAQ,KAAMnC,OAAQN,EAAY,KAAM+B,QAASA,EAASW,QA7C7D,CACZC,qBAAqB,EACrBC,OAAQ,CACJC,MAAO,CACH,CACIC,KAAM,SACNC,SAAS,EACTC,SAAU,QACVC,GAAI,WACJC,UAAW,CACPH,SAAS,GAEbT,OAAQ,CACJa,MAAM,a,4LCnCvB,SAASC,IACZ,SAASC,EAAUC,GAGf,IAFA,IAAIC,EAASD,EAAO,IAChBE,EAAKvD,SAASwD,OAAOC,MAAM,KACtBC,EAAI,EAAGA,EAAIH,EAAGI,OAAQD,IAAK,CAEhC,IADA,IAAIE,EAAIL,EAAGG,GACY,MAAhBE,EAAEC,OAAO,IAAYD,EAAIA,EAAEE,UAAU,EAAGF,EAAED,QACjD,GAA0B,IAAtBC,EAAEG,QAAQT,GAAe,OAAOM,EAAEE,UAAUR,EAAOK,OAAQC,EAAED,QAErE,OAAO,KAmBX,OAHIP,EAjCS,cAiCeY,IAAMC,IAlClB,iBAsBZC,EAAiB,CACbC,YAAY,EACZC,QAASC,OAAOjB,EAvBX,aAuBkC,GACvCkB,SAAUC,KAAKC,MAAOC,mBAAmBrB,EAvBnC,cAuB2D,OACjEsB,YAAaL,OAAOjB,EAvBX,iBAuBsC,GAC/CvD,QAASuD,EAvBL,YAuB2B,YAC/BuB,WAAYN,OAAOjB,EAvBZ,eAuBqC,GAC5CP,KAAMO,EAvBL,SAuBwB,YACzBwB,mBAAoB,KAOrB,CACHT,WAAYH,IAAMC,IAtCN,gBAsCuB,GACnCG,QAASJ,IAAMC,IAtCN,WAsCoB,GAC7BK,SAAUC,KAAKC,MAAMR,IAAMC,IAtCjB,YAsCgC,OAC1CS,YAAaV,IAAMC,IAtCN,eAsCwB,GACrCpE,QAASmE,IAAMC,IAtCP,UAsCoB,aAC5BU,WAAYX,IAAMC,IAtCP,aAsCuB,GAClCpB,KAAMmB,IAAMC,IAtCP,OAsCiB,aACtBW,mBAAoBZ,IAAMC,IAtCN,sBAsC+B,KAIpD,SAASC,EAAiB9B,GAC7B4B,IAAMa,IAlDU,eAkDOzC,EAAK+B,YAC5BH,IAAMa,IAlDO,WAkDOzC,EAAKgC,SACzBJ,IAAMa,IAlDQ,YAkDON,KAAKO,UAAU1C,EAAKkC,WACzCN,IAAMa,IAlDW,eAkDOzC,EAAKsC,aAC7BV,IAAMa,IAlDM,UAkDOzC,EAAKvC,SACxBmE,IAAMa,IAlDS,aAkDOzC,EAAKuC,YAC3BX,IAAMa,IAlDG,OAkDOzC,EAAKS,MACrBmB,IAAMa,IAlDkB,sBAkDOzC,EAAKwC,oB,IC1DlCG,EAAU,IAAIC,EADFC,EAAQ,KAAnBD,SAGDE,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFC,WAAY,EACZC,OAAQJ,EAAMK,QAAQ,GACtBC,UAAW,UAEfC,YAAa,CACTH,OAAQJ,EAAMK,QAAQ,GACtBG,SAAU,KAEdC,OAAQ,CACJC,QAAS,IAEbC,aAAc,CACVD,QAAS,IAEbE,MAAO,CACH7F,MAAO,OAEX8F,SAAU,CACNnG,MAAOsF,EAAMc,QAAQC,KAAKC,KAC1B/F,OAAQ+E,EAAMK,QAAQ,GACtBtF,MAAOiF,EAAMK,QAAQ,GACrBY,WAAYjB,EAAMK,QAAQ,GAC1BF,WAAYH,EAAMK,QAAQ,GAAK,QA6V5Ba,MAxVf,WACI,IAAMC,EAAUrB,IAEVsB,EAAQ,CACV,UAAa,UACb,OAAU,UACV,UAAa,WAEXC,EAAc,CAChB,SAAY,EACZ,SAAU,EACV,SAAU,EACV,SAAU,GAGRC,EAAUvD,IAfE,EAiBUwD,mBAAS,IAjBnB,mBAiBXtE,EAjBW,KAiBHuE,EAjBG,OAkBYD,mBAASD,EAAQ7G,SAlB7B,mBAkBXA,EAlBW,KAkBFgH,EAlBE,OAmBcF,mBAASD,EAAQ7D,MAnB/B,mBAmBXiE,EAnBW,KAmBDC,EAnBC,OAoBgBJ,mBAAS,IApBzB,mBAoBXK,EApBW,KAoBAC,EApBA,OAqBMN,mBAASD,EAAQ/B,YArBvB,mBAqBXuC,EArBW,KAqBLC,EArBK,OAsBMR,mBAAS,IAtBf,mBAsBXvE,EAtBW,KAsBLgF,EAtBK,OAuBkBT,mBAAS,IAvB3B,mBAuBXU,EAvBW,KAuBCC,GAvBD,KAyBZC,GAAoBC,IAAMC,OAAyB,MAzBvC,GA0BgCD,IAAMb,SAAS,GA1B/C,qBA0BXe,GA1BW,MA0BQC,GA1BR,MA2BZC,GAAiBJ,IAAMC,OAAyB,MA3BpC,GA4B0BD,IAAMb,SAAS,GA5BzC,qBA4BXkB,GA5BW,MA4BKC,GA5BL,MA6BZC,GAAqBP,IAAMC,OAAyB,MA7BxC,GA8BkCD,IAAMb,SAAS,GA9BjD,qBA8BXqB,GA9BW,MA8BSC,GA9BT,MAgClBT,IAAMU,WAAU,WACZP,GAAqBJ,GAAkBY,QAASC,aAChDN,GAAkBF,GAAeO,QAASC,aAC1CH,GAAsBF,GAAmBI,QAASC,eACnD,IAEH,IAAMC,GAAsB,SAACC,GACzB,IAAIC,EAAaD,EAAME,OAAOC,MAC9BC,IAAQJ,MAAM,CACVK,SAAU,SACVC,OAAQ,UACRrG,MAAOgG,IAEXrE,EAAiB,eAAIwC,EAAL,CAAc7G,QAAS0I,KACvC1B,EAAW0B,IAGTM,GAAmB,SAACP,GACtB,IAAIQ,EAAWR,EAAME,OAAOC,MAC5BC,IAAQJ,MAAM,CACVK,SAAU,SACVC,OAAQ,QACRrG,MAAOwG,IAAEC,QAAQF,KAErB5E,EAAiB,eAAIwC,EAAL,CAAc/B,WAAYmE,KAC1C3B,EAAQ2B,IAGNG,GAAuB,SAACX,GAC1B,IAAIY,EAAUZ,EAAME,OAAOC,MAC3BC,IAAQJ,MAAM,CACVK,SAAU,SACVC,OAAQ,OACRrG,MAAO2G,IAEXhF,EAAiB,eAAIwC,EAAL,CAAc7D,KAAMqG,KACpCnC,EAAYmC,IAiQhB,OAtOAhB,qBAxBiB,WACbiB,IAAK3E,MAtEO,qIAsESsC,EAASsC,cAAgB,cAAe,CACzDC,gBAAgB,EAAMC,QAAQ,EAAMC,UAAU,EAAMC,UAAW,IAC/DC,SAAU,SAAUC,GAChB,IAAItH,EAAOsH,EAAQtH,KACfC,EAAS0G,IAAEY,IAAIZ,IAAEa,MAAMb,IAAEc,KAAKzH,EAAK,IAAK,IAAI,SAAC0H,GAAD,OAAaC,IAAOD,GAASE,IAAI,EAAG,QAAQC,YACxFjD,EAAY+B,IAAEmB,OAAO,CAAC,aAAcnB,IAAEoB,OAAO/H,EAAKuH,KAAI,SAAAS,GAAG,OAAIA,EAAI,kBAAkBzG,OAAS,EAA/B,UAAsCyG,EAAI,kBAA1C,YAA+DA,EAAI,mBAAsBA,EAAI,uBAC9JnD,EAAaD,GACbJ,EAAUvE,GACV+E,EAAQhF,QAeA,CAAC0E,IACrBoB,qBAX2B,WACvBnD,EAAQsF,MAAMC,YAAY,CACtBC,MAAO,iBACPC,KAAM,aACPC,MAAK,SAACC,GACL,IAAMC,EAAmB5B,IAAE6B,OAAOF,EAAC,MAAU,GAApB,sBACzBpD,GAAcyC,IAAOY,GAAkBE,gBAKjB,IAsO1B,kBAACC,EAAA,EAAD,CACIC,WAAS,EAACC,UAAU,SAASC,QAAQ,SAASC,WAAW,SACzDjJ,UAAWsE,EAAQjB,MACnB,kBAACwF,EAAA,EAAD,CAAMK,MAAI,GAtOP,oCACH,kBAACC,EAAA,EAAD,CAAaC,QAAQ,WAAWpJ,UAAWsE,EAAQZ,aAC/C,kBAAC2F,EAAA,EAAD,CAAYpJ,IAAK6F,GACL/E,GAAG,wBADf,QAEA,kBAACuI,EAAA,EAAD,CACIC,QAAQ,6BACRxI,GAAG,wBACHyF,MAAO3B,EACP2E,SAAUxC,GACVyC,WAAY1D,IAGRe,IAAEY,IAAIZ,IAAEc,KAAKrD,IAAQ,SAACiC,EAAOkD,GAAR,OAAkB,kBAACC,EAAA,EAAD,CAAUC,IAAKF,EACLlD,MAAOA,GAAQA,SAQzE,oCACH,kBAAC2C,EAAA,EAAD,CAAaC,QAAQ,WAAWpJ,UAAWsE,EAAQZ,aAC/C,kBAAC2F,EAAA,EAAD,CAAYpJ,IAAKqF,GACLvE,GAAG,2BADf,YAEA,kBAACuI,EAAA,EAAD,CACIC,QAAQ,gCACRxI,GAAG,2BACHyF,MAAO5I,EACP4L,SAAUpD,GACVqD,WAAYhE,IAGRV,EAAU2C,KAAI,SAAC9J,EAAS8L,GAAV,OACV,kBAACC,EAAA,EAAD,CAAUC,IAAKF,EAAOlD,MAAO5I,GAAUA,SAQpD,oCACH,kBAACuL,EAAA,EAAD,CAAaC,QAAQ,WAAWpJ,UAAWsE,EAAQZ,aAC/C,kBAAC2F,EAAA,EAAD,CAAYpJ,IAAK0F,GACL5E,GAAG,wBADf,cAEA,kBAACuI,EAAA,EAAD,CACIC,QAAQ,6BACRxI,GAAG,wBACHyF,MAAOvB,EACPuE,SAAU5C,GACV6C,WAAY7D,IAGRkB,IAAEY,IAAIlD,GAAa,SAACmE,EAAQiB,GAAT,OAAiB,kBAACD,EAAA,EAAD,CAAUC,IAAKjB,EACLnC,MAAOmC,GAASiB,UAoL1E,kBAACf,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACC,UAAU,SAAS/I,UAAWsE,EAAQP,OA7KnE,WAyBI,SAAS8F,EAAkBC,EAA6BC,GACpD,IACML,EAAQ5C,IAAEhF,QAAQgF,IAAEc,KAAKkC,GAAUhC,IAAOiC,GAAaC,OAAO,MAC9DC,EAAWnD,IAAEa,MAAMb,IAAE6B,OAAOmB,GAAUJ,EAFf,EAE6CA,EAAQ,GAC5EQ,EAAQpD,IAAEqD,OAAOF,GAAU,SAACG,EAAK5D,EAAO/E,GAC1C,IAAI4I,EAAgBJ,EAASxI,EAAI,GAIjC,OAHIA,EAAI,GAAK4I,EAAgB,IAAMC,MAAM9D,KAAW8D,MAAMD,KACtDD,EAAI3I,EAAI,GAAK+E,EAAQ6D,GAElBD,IACR,IACCG,EAASzD,IAAE0D,OAAON,GAAO,SAAAzB,GAAC,OAAK3B,IAAEwD,MAAM7B,MACrCgC,EAAU3D,IAAE4D,KAAKH,IAAW,EAClC,OAAOzD,IAAEqD,OAAOrD,IAAE6D,MAAM,EAAG,IAAI,SAACP,EAAKQ,EAAGnJ,GAEpC,OADA2I,EAAI3I,GAAKoJ,KAAKC,MAAMhE,IAAEqD,OAAOrD,IAAE6D,MAAM,EAAGC,IAAI,SAACR,GAAD,OAASA,EAAMK,IAAS,IAAM3D,IAAEiE,KAAKd,IAAa,IACvFG,IACR,IAAgB,GAOvB,SAASY,EAAoBC,EAAoBtC,GAC7C,OAAO7B,IAAEoE,UAAUD,EAAWvD,KAAI,SAAAe,GAAC,OAAIX,IAAOW,GAAGuB,OAAO,QAAOrB,GAGnE,SAASwC,EAAgBC,EAA0BC,EAAkCV,GAGjF,IAFA,IATsBhC,EAUlB2C,EAAgBN,EAAoBI,EADjBtE,IAAEmB,OAAO,CAAC,GAAInB,IAAEyE,KAAKzE,IAAEY,IAAI0D,GAAkB,SAACI,GAAD,OAAgB3B,EAAkBwB,EAAcG,MAAQ1E,IAAE6B,OAAO0C,GAAc3J,UAE1ID,EAAI,EAAGA,EAAIkJ,EAAOlJ,IAAK,CAC5B,IACMgK,EAAmB5B,EAAkByB,EADzBF,EAAiBtE,IAAE4E,UAAU5E,IAAE6B,OAAO2C,IAAgB,SAAAV,GAAC,YAAUe,IAANf,KAAmB,IAGhGU,EAAgBN,EAAoBI,EADTtE,IAAEmB,QAdXU,EAcmC7B,IAAE6B,OAAO2C,GAb3DxE,IAAE0D,OAAO7B,GAAQ,SAACiC,GAAD,YAAae,IAANf,MAaoD,CAACa,KAGpF,OAAO3E,IAAE6B,OAAO2C,GA8BpB,IAAMF,EAAmBtE,IAAEmB,OAAO7H,EAzElC,SAA6BwL,EAAmB3G,GAC5C,OAAO6B,IAAEqD,OAAOrD,IAAE6D,MAAM,GAAI1F,EAAO,IAAK,SAACmF,EAAKQ,EAAGnJ,GAE7C,OADA2I,EAAI3I,GAAKqG,IAAO8D,GAAeC,KAAKC,OAAO/D,IAAItG,EAAI,EAAG,QAAQuG,SACvDoC,IACR,IAqEmC2B,CAAoBjF,IAAEiE,KAAK3K,GAAU6E,IACzE+G,EA3FN,SAA4BC,GACxB,GAAuB,cAAnBA,EAAgC,CAChC,IAAIC,EAAiBpF,IAAEY,IAAIvH,GAAM,SAAAsI,GAAC,OAAI3B,IAAEa,MAAMb,IAAE6B,OAAOF,GAAI,MAC3D,OAAO3B,IAAE0D,OAAO1D,IAAEqD,OAAO+B,GAAgB,SAAC9B,EAAK5D,EAAOkD,GAElD,OADAU,EAAIV,GAASyC,OAAOrF,IAAEsF,IAAItF,IAAEY,IAAIwE,GAAiB,SAAA/D,GAAG,OAAI/F,OAAO+F,EAAIuB,SAC5DU,IACR,KAAiB,SAAC5D,GAAD,OAAWpE,OAAOoE,GAAS,KAE/C,OAAOM,IAAEa,MAAMb,IAAE6B,OAAO7B,IAAEuF,KAAKlM,GAAM,SAAAgI,GACjC,IAAImE,GAAsD,IAApCxF,IAAEhF,QAAQmK,EAAgB,KAC1CM,EAASD,EAAkBxF,IAAEtF,MAAMyK,EAAgB,KAAK,GAAKA,EAC7DO,EAAQF,EAAkBxF,IAAEtF,MAAMyK,EAAgB,KAAK,GAAK,GAClE,OAAO9D,EAAI,oBAAsBoE,GAAUpE,EAAI,oBAAsBqE,MACpE,GA8EUC,CAAmB7O,GAAS8J,IAAItF,QACjDiJ,EAAeL,EAAoB5K,EAAQ4L,GAC3CtJ,EAAayI,EAAgBC,EAAkBC,EAAcpG,GAC/DyH,EAAsB5F,IAAE4E,UAAU5E,IAAE6B,OAAO0C,IAAe,SAAC5C,GAAD,OAAOA,EAAI,KAAK,EAC9EiE,EAAsBA,EAAsB,EAAI,EAAIA,EACpD,IAAIhP,EAAmBoJ,IAAE6B,OAAO0C,GAAc1D,MAAM+E,GAChD/O,EAAoBmJ,IAAE6B,OAAOjG,GAAYiF,MAAM+E,GAC/CjP,EAAa2N,EAAiBzD,MAAM+E,GAAqBhF,KAAI,SAAA8D,GAAI,OAAI1D,IAAO0D,GAAMxB,OAAO,SACvF2C,EApCN,SAA2BjP,EAA4BC,EAA6BsH,GAahF,IACM2H,EAAgB9F,IAAE+F,QAAQnP,EAAkBC,GAblD,SAA4BmP,EAAkBC,GAC1C,GAAID,IAAaC,EACb,OAAO,EACJ,GAAiB,IAAbD,GAAgC,IAAdC,EACzB,OAAgC,KAAxBD,EAAWC,GAEnB,IAAMC,EAAYlG,IAAEmG,IAAI,CAACH,EAAUC,IAC7BG,EAAapG,IAAEqG,IAAI,CAACL,EAAUC,IACpC,OAA8C,IAAvClC,KAAKuC,IAAI,EAAIJ,EAAYE,MAMlCG,EAAaT,EAAclL,OAASuD,EAFjB,EAE2C,EAAI,EAAI2H,EAAclL,OAASuD,EAF1E,EAGnBqI,EAAaxG,IAAEa,MAAMiF,EAAeS,EAAYA,EAH7B,GAG4D7C,QAAO,SAAA/B,GAAC,OAAK6B,MAAM7B,MAClG2B,EAAMtD,IAAEgE,MAAM,IAAMhE,IAAE4D,KAAK4C,GAAa,GAC9C,OAAIlD,GAAO,EACA,EACAA,GAAO,IACP,GAEAA,EAaEmD,CAAkB7P,EAAkBC,EAAmBsH,GACpE0H,EAAW,KACXhP,EAAoBA,EAAkB+J,KAAI,SAAAZ,GAAC,OAAI0G,QAEnD,IAAMC,EAAqB3G,IAAE4G,SAASvC,EAAgBC,EAAkBC,EAAc,IAAI,SAAC5C,GAAD,YAAakD,IAANlD,KAE3F5K,EAAQ0G,EAAMM,GAEpB,OAAO1E,EAAKuB,OAEJ,oCACI,kBAACmH,EAAA,EAAD,CAAMK,MAAI,GACN,kBAACL,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACC,UAAU,MAAMC,QAAQ,SAASC,WAAW,UAC5D0D,EAAW,GACN,oCACE,kBAAC9D,EAAA,EAAD,CAAMK,MAAI,GACN,kBAACyE,EAAA,EAAD,CAAYvE,QAAS,WAChBwE,IAAgB,oBAAD,OAAqBjB,EAArB,6CAAkEc,EAAlE,qBAAiG3G,IAAE+G,UAAUhJ,GAA7G,sBAAoIjH,EAApI,QAGxB,kBAACiL,EAAA,EAAD,CAAMK,MAAI,GACN,kBAAC4E,EAAA,EAAD,CAASC,MAdpB,kHAcyCC,OAAK,EAC1BC,oBAAqBC,KAC1B,kBAAC,IAAD,CAAiBlO,UAAWsE,EAAQN,cAI9C,oCACE,kBAAC2J,EAAA,EAAD,CAAYvE,QAAS,WAChBwE,IAAgB,GAAD,OAAIhQ,EAAJ,yCAA4CkJ,IAAE+G,UAAUhJ,GAAxD,gDAKpC,kBAACgE,EAAA,EAAD,CAAMK,MAAI,GACN,kBAAC1L,EAAD,CAAiBC,WAAYA,EAAYC,iBAAkBA,EAC1CC,kBAAmBA,EAAmBC,QAASA,EAC/CC,MAAOA,MAIlC,GAiCGsQ,IAEL,kBAACtF,EAAA,EAAD,CAAMK,MAAI,EAAClJ,UAAWsE,EAAQV,QA/B3B,kBAAC+J,EAAA,EAAD,CAAYvE,QAAS,WACxB,kBAAC,IAAQgF,aAAT,CACIC,WAAW,cAAc9H,OAAO,SAChC+H,GAAG,8CAFP,eAKC,WACD,kBAAC,IAAQF,aAAT,CACIC,WAAW,SAAS9H,OAAO,SAC3B+H,GAAG,iDAFP,YAyBClJ,GACD,kBAACyD,EAAA,EAAD,CAAMK,MAAI,EAAClJ,UAAWsE,EAAQR,cAjB3B,kBAAC6J,EAAA,EAAD,CAAYvE,QAAS,WAArB,wBAAkDhE,O,6CC9WlDmJ,MARf,WACI,OAAO,oCACH,4BAAQR,MAAO,YACPS,IAAI,oGACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,QAASsQ,OAAQ,OCF1DzL,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFsL,UAAWxL,EAAMK,QAAQ,SAwBtBoL,MAnBf,WACI,IAAMtK,EAAUrB,IAChB,OAAO,oCACH,kBAAC4F,EAAA,EAAD,CAAMC,WAAS,EAACE,QAAQ,eAAehJ,UAAWsE,EAAQjB,MACtD,kBAACwF,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,kBACPS,IAAI,2DACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,kBACPS,IAAI,2DACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,SCpB9DzL,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFsL,UAAWxL,EAAMK,QAAQ,SAwBtBsL,MAnBf,WACI,IAAMxK,EAAUrB,IAChB,OAAO,oCACH,kBAAC4F,EAAA,EAAD,CAAMC,WAAS,EAACE,QAAQ,eAAehJ,UAAWsE,EAAQjB,MACtD,kBAACwF,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,oBACPS,IAAI,oEACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,oBACPS,IAAI,kEACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,SCpB9DzL,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFsL,UAAWxL,EAAMK,QAAQ,IAE7BuL,WAAY,CACRJ,UAAWxL,EAAMK,QAAQ,GACzBwL,aAAc7L,EAAMK,QAAQ,UAsCzByL,MAjCf,WACI,IAAM3K,EAAUrB,IAChB,OAAO,oCACH,kBAAC4F,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAAS/I,UAAWsE,EAAQjB,MAClD,kBAACwF,EAAA,EAAD,CAAMC,WAAS,EAACI,MAAI,EAACF,QAAQ,eAAehJ,UAAWsE,EAAQjB,MAC3D,kBAACwF,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,mBACPS,IAAI,uEACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,mBACPS,IAAI,4DACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,OAI5D,kBAAC7F,EAAA,EAAD,CAAMC,WAAS,EAACI,MAAI,EAACF,QAAQ,eAAehJ,UAAWsE,EAAQyK,YAC3D,kBAAClG,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,mBACPS,IAAI,mFACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,mBACPS,IAAI,sEACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,UCtClEzL,EAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFsL,UAAWxL,EAAMK,QAAQ,IAE7BuL,WAAY,CACRJ,UAAWxL,EAAMK,QAAQ,GACzBwL,aAAc7L,EAAMK,QAAQ,UAsCzB0L,OAjCf,WACI,IAAM5K,EAAUrB,IAChB,OAAO,oCACH,kBAAC4F,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,SAAS/I,UAAWsE,EAAQjB,MAClD,kBAACwF,EAAA,EAAD,CAAMC,WAAS,EAACI,MAAI,EAACF,QAAQ,eAAehJ,UAAWsE,EAAQjB,MAC3D,kBAACwF,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,uBACPS,IAAI,0DACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,uBACPS,IAAI,0DACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,OAI5D,kBAAC7F,EAAA,EAAD,CAAMC,WAAS,EAACI,MAAI,EAACF,QAAQ,eAAehJ,UAAWsE,EAAQyK,YAC3D,kBAAClG,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,uBACPS,IAAI,0FACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,MAExD,kBAAC7F,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,GACX,4BAAQd,MAAO,uBACPS,IAAI,yEACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,IAAKsQ,OAAQ,UCtClEzL,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACFE,OAAQJ,EAAMK,QAAQ,SAgBnB2L,OAXf,WACI,IAAM7K,EAAUrB,KAChB,OAAO,oCACH,kBAAC4F,EAAA,EAAD,CAAMC,WAAS,EAAC9I,UAAWsE,EAAQjB,MAC/B,4BAAQ0K,MAAO,gBACPS,IAAI,4EACJC,MAAO,CAACvQ,MAAO,MAAOE,OAAQ,IAAKsQ,OAAQ,Q,oBCdzDzL,GAAYC,aAAW,SAACC,GAAD,OACzBC,YAAa,CACTC,KAAM,CACF+L,YAAa,IACbC,aAAc,KAElBC,IAAK,CACD/L,OAAQJ,EAAMK,QAAQ,GACtBmL,UAAWxL,EAAMK,QAAQ,GACzBwL,aAAc7L,EAAMK,QAAQ,GAC5BtF,MAAO,aA2BJqR,OAtBf,WACI,IAAMjL,EAAUrB,KAChB,OAAO,oCACH,kBAACuM,GAAA,EAAD,CAAWxP,UAAWsE,EAAQjB,MAC1B,yBAAKrD,UAAWsE,EAAQgL,IAAKG,IAAK,GAC7BjB,IAAK,+GACV,kBAACkB,GAAA,EAAD,MACA,yBAAK1P,UAAWsE,EAAQgL,IAAKG,IAAK,GAC7BjB,IAAK,sGACV,kBAACkB,GAAA,EAAD,MACA,yBAAK1P,UAAWsE,EAAQgL,IAAKG,IAAK,GAC7BjB,IAAK,qFACV,kBAACkB,GAAA,EAAD,MACA,yBAAK1P,UAAWsE,EAAQgL,IAAKG,IAAK,GAC7BjB,IAAK,gGACV,kBAACkB,GAAA,EAAD,MACA,yBAAK1P,UAAWsE,EAAQgL,IAAKG,IAAK,GAC7BjB,IAAK,gGC1BPmB,OARf,WACI,OAAO,oCACH,4BAAQ5B,MAAO,qBACPS,IAAI,yQACJC,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,QAASsQ,OAAQ,OCsEjDkB,OA9Df,WACI,IAAMtL,EAAUuL,KAEVpL,EAAUvD,IAHA,EAKUqE,IAAMb,SAASD,EAAQhC,aALjC,mBAKT+D,EALS,KAKFsJ,EALE,KAoBhB,SAASC,EAAc3O,EAAcsI,EAAesG,GAChD,OAAO,kBAACC,EAAA,EAAD,eAAKC,QAAS,kBAVzB,SAAwB9O,EAAcsI,GAClCjD,IAAQJ,MAAM,CACVK,SAAU,QACVC,OAAQ,MACRrG,MAAOc,IAEXa,EAAiB,eAAIwC,EAAL,CAAchC,YAAaiH,KAIhByG,CAAe/O,EAAMsI,IAAQpJ,MAAOc,EACnDpB,UAAW0J,IAAUsG,EAAW1L,EAAQ8L,YAAc9L,EAAQ+L,YAC1D,CACAtP,GAAG,cAAD,OAAgB2I,GAClB,gBAAgB,mBAAhB,OAAoCA,MAOxD,OAAO,oCACH,kBAAC4G,EAAA,EAAD,CAAQxP,SAAS,UACb,kBAACyP,EAAA,EAAD,CAAM/J,MAAOA,EAAOgD,SA3BP,SAACnD,EAA8BmK,GAChDV,EAASU,IA0BuCpH,QAAQ,aAAaqH,cAAc,QAC1E3J,IAAEY,IANF,CAAC,mBAAoB,qBAAsB,mBACpD,sBAAuB,kBAAmB,sBAAuB,0BAK5C,SAACkD,EAAG8F,GAAJ,OAAYX,EAAcnF,EAAG8F,EAAKlK,QAGvD,kBAACmK,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,EAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,EAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,EAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,GAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,GAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,GAAD,OAEJ,kBAACiH,GAAD,CAAUnK,MAAOA,EAAOkD,MAAO,GAC3B,kBAAC,GAAD,S,2KC1CNzG,GAAYC,aAAW,SAACC,GAAD,OAAkBC,YAAa,CACpDwN,YAAa,CACT/S,MAAOsF,EAAMc,QAAQ4M,QAAQC,MAEjCC,UAAW,CACPlT,MAAOsF,EAAMc,QAAQ+M,MAAMF,MAE/BG,WAAY,CACRpT,MAAOsF,EAAMc,QAAQiN,QAAQJ,WAWnCK,GAAcC,cAhCL,SAACjO,GAAD,OAAkBC,YAAa,CAC1CC,KAAM,CACFE,OAAQ,EACR8N,QAASlO,EAAMK,QAAQ,IAE3B8N,YAAa,CACTxQ,SAAU,WACVyQ,MAAOpO,EAAMK,QAAQ,GACrBgO,IAAKrO,EAAMK,QAAQ,GACnB3F,MAAOsF,EAAMc,QAAQC,KAAK,UAuBdkN,EAAmB,SAACK,GAA6B,IAC1DC,EAAwCD,EAAxCC,SAAUpN,EAA8BmN,EAA9BnN,QAASqN,EAAqBF,EAArBE,QAAYC,EAD0B,YACjBH,EADiB,kCAEhE,OACI,kBAAC,KAAD,eAAgBI,mBAAiB,EAAC7R,UAAWsE,EAAQjB,MAAUuO,GAC3D,kBAACjE,EAAA,EAAD,CAAYvE,QAAQ,MAAMsI,GACzBC,EACG,kBAACG,EAAA,EAAD,CAAYC,aAAW,QAAQ/R,UAAWsE,EAAQgN,YAAapB,QAASyB,GACpE,kBAAC,KAAD,OAEJ,SAKVK,GAAgBZ,cAAW,SAACjO,GAAD,MAAmB,CAChDE,KAAM,CACFgO,QAASlO,EAAMK,QAAQ,OAFT4N,CAIlBa,MAEEC,GAAgBd,cAAW,SAACjO,GAAD,MAAmB,CAChDE,KAAM,CACFE,OAAQ,EACR8N,QAASlO,EAAMK,QAAQ,OAHT4N,CAKlBe,MACEC,GAAa7M,IAAM8M,YAAqC,SAAoBZ,EAAOxR,GACrF,OAAO,kBAACqS,GAAA,EAAD,eAAOvJ,UAAU,KAAK9I,IAAKA,GAASwR,OAQzCc,GAAoBzL,IAAEY,IAAI8K,KAAWrS,MAAM,kBAAoB,CACjEiB,KAD6C,EAAEA,KAE/CqR,KAF6C,EAAQC,UAK1C,SAASC,GAAT,GAA6J,IAAtIC,EAAqI,EAArIA,OAAQC,EAA6H,EAA7HA,WAAYC,EAAiH,EAAjHA,YAChDxO,EAAUrB,KADuJ,EAGzIsC,IAAMb,WAHmI,mBAGhK9G,EAHgK,KAGvJgH,EAHuJ,OAIvIW,IAAMb,WAJiI,mBAIhKqO,EAJgK,KAItJC,EAJsJ,OAKjJzN,IAAMb,WAL2I,mBAKhKuO,EALgK,KAK3JC,EAL2J,OAMzI3N,IAAMb,WANmI,mBAMhKyO,EANgK,KAMvJC,EANuJ,KAQvK,SAASC,IACLzO,OAAW+G,GACXqH,OAAYrH,GACZuH,OAAOvH,GACPyH,OAAWzH,GAGf,SAAS2H,IACLR,IACAO,IAQJ,SAASE,EAAT,GAA6D,IAAD,IAA5BhN,OAASC,GAAmB,aAAV,GAAU,GAAnBA,MACrC5B,EAAWkC,IAAEuF,KAAKkG,IAAmB,SAAC3H,GAAD,OAAgBA,EAAExJ,OAASoF,MAiCpE,OACI,kBAACgN,GAAA,EAAD,CAAQ7B,QAAS2B,EAAgBG,kBAAgB,0BAA0BC,KAAMd,EACzE3E,oBAAqBmE,GAAYuB,WAAS,GAC9C,kBAAC,GAAD,CAAa5S,GAAG,0BAA0B4Q,QAAS2B,GAAnD,oBAGA,kBAAC,GAAD,CAAeM,UAAQ,EAACnF,MAAO,CAACoF,UAAW,MACvC,kBAAChL,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAW,SAAUE,WAAW,SAASD,QAAQ,SAC3DyF,MAAO,CAACoF,UAAW,KAAMrQ,QAAS,GACpC,kBAACmK,EAAA,EAAD,CAAYvE,QAAS,UAAWqF,MAAO,CAAClL,OAAQ,GAAIE,UAAW,WAA/D,kLAKA,kBAACoF,EAAA,EAAD,CAAMK,MAAI,EAAC2F,IAAE,EAAC/F,WAAS,EAACtF,QAAS,EAAGwF,QAAS,UACxCpL,GAAW,oCACR,kBAACiL,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,EAAGJ,MAAO,CAAChL,UAAW,QACjC,kBAACqQ,GAAA,EAAD,CAAMC,GAAInW,GACN,kBAAC+P,EAAA,EAAD,CAAYvE,QAAS,MACjB,0BAAM2I,aAAY,QAAUnU,EAAQwD,KAAM4S,KAAM,OAAhD,OACKpW,QADL,IACKA,OADL,EACKA,EAAS6U,UAM9B,kBAAC5J,EAAA,EAAD,CAAMK,MAAI,GAvDnB,kBAAC+K,GAAA,EAAD,CACHlT,GAAG,iBACH0N,MAAO,CAACvQ,MAAO,KACfsC,QAAS+R,GACT2B,eAAa,EACbC,SAAUZ,EACVa,eAAgB,SAAAC,GAAM,OAAIA,EAAOjT,MACjCkT,aAAc,SAAC3S,GAAD,OAAiB,oCAAE,8BAAOA,EAAE8Q,MAAa9Q,EAAEP,OACzDmT,YAAa,SAAAC,GAAM,OACf,kBAACC,GAAA,EAAD,iBAAeD,EAAf,CACWlU,MAAM,sBAAsB8I,QAAQ,WACpCsL,WAAU,eAAMF,EAAOE,WAAb,CAAyBC,aAAc,yBAgDvD/W,GACD,kBAACiL,EAAA,EAAD,CAAMK,MAAI,EAACuF,MAAO,CAACvQ,MAAO,SACtB,kBAACuW,GAAA,EAAD,CAAWd,WAAS,EAACvK,QAAQ,WAClB9I,MAAM,6BACNkJ,SA/C/B,YAAkD,IAAfhD,EAAc,EAAvBD,OAASC,MAE/B4M,GAAW,GACXF,EAAO1M,GACPoO,MAHkB,uCAGApO,EAAO,CAACqO,OAAQ,QAC7BrM,MAAK,SAACsM,GACH9B,EAAY8B,EAAIC,OACjB,SAACC,GACA3W,QAAQ2S,MAAMgE,MAEjBxM,MAAK,kBAAMyM,YAAW,kBAAM7B,GAAW,KAAQ,YAuCvCD,GACD,kBAACjF,EAAA,EAAD,CAAM6F,GAAIZ,EAAS+B,eAAa,EAC1BzG,MAAO,CAAC0G,gBAAiBhC,EAAU,QAAU,QAC/C,kBAACtK,EAAA,EAAD,CAAMK,MAAI,EAAC1F,QAAS,EAAGsF,WAAS,EAACE,QAAS,SACpCyF,MAAO,CAACvQ,MAAO,SACjB,kBAAC2K,EAAA,EAAD,CAAMK,MAAI,EAAC2F,GAAI,EAAGJ,MAAO,CAAChL,UAAW,QACjC,kBAAC2R,GAAA,EAAD,CAAkBC,KAAM,MAE5B,kBAACxM,EAAA,EAAD,CAAMK,MAAI,GACN,kBAACyE,EAAA,EAAD,CAAYvE,QAAS,SAArB,gCAIV+J,GAAWF,IAAQF,EACf,kBAAClK,EAAA,EAAD,CAAMK,MAAI,EAACuF,MAAO,CAACvQ,MAAO,QAAS4K,WAAS,EAACE,QAAS,UACpD,kBAAC2E,EAAA,EAAD,CAAYvE,QAAS,QAASpJ,UAAWsE,EAAQsM,aAC7C,0BAAMmB,aAAY,QAASiC,KAAM,OAAjC,gBADJ,yBAKF,kBAACnL,EAAA,EAAD,CAAMK,MAAI,EAACuF,MAAO,CAACvQ,MAAO,QAAS4K,WAAS,EAACE,QAAS,UACpD,kBAAC2E,EAAA,EAAD,CAAYvE,QAAS,QAASpJ,UAAWsE,EAAQyM,WAC7C,0BAAMgB,aAAY,MAAOiC,KAAM,OAA/B,gBADJ,2DAOfjB,IAAaI,GACd,kBAAC,GAAD,KACI,kBAACmC,GAAA,EAAD,CAAQpF,QAzGpB,WACI2C,EAAWI,EAAKrV,GAChByV,KAuGwCrT,UAAWsE,EAAQ2M,WAC3C7H,QAAQ,YAAYvL,MAAO,aADnC,UC7MD0X,ICHHC,GDGGD,GANf,YAA6C,IAAxBtC,EAAuB,EAAvBA,IACjB,OAAO,oCACH,4BAAQlF,MAAO,aAAcS,IAAKyE,EAAKxE,MAAO,CAACvQ,MAAO,OAAQE,OAAQ,QAASsQ,OAAQ,O,SCKxF,SAAS+G,GAAT,GAAuE,IAAlDC,EAAiD,EAAjDA,IAAK9U,EAA4C,EAA5CA,KAiDzB+U,EAhDU,CACVC,KAAM,CACF,CACIrP,OAAQ,OACRsP,QAAS,4HAEc,wEAEvBC,UAAW,UAEf,CACIvP,OAAQ,gBACRsP,QAAS,2BAAG,wCAAH,0BAA0C,mEAA1C,YAGb,CACItP,OAAQ,gBACRsP,QAAS,2BAAG,uCAAH,QAAuB,mDAAvB,6CAIb,CACItP,OAAQ,gBACRsP,QAAS,2BAAG,yCAAH,gBAAiC,+DAAjC,sBAGb,CACItP,OAAQ,mBACRsP,QAAS,sCAAW,mFAAX,oEAoBHD,KAElB,OAAO,kBAAC,KAAD,CAASG,YAAY,EAAML,IAAKA,EAAKM,gBAAgB,EAAML,MAAOA,EACzDM,OAAQ,CAACzV,QAAS,CAAC0V,OAAQ,MAASC,SAhBtB,SAAChW,GAA4B,IAChDiW,EAAUjW,EAAViW,OAEP,GAAI,CAACC,KAAOC,SAAUD,KAAOE,SAASC,SAASJ,GAAS,CACpD,IAAMK,EAAevV,IACrBe,EAAiB,eACVwU,EADS,CAEZ9T,mBAAoBmE,IAAE4P,KAAF,sBAAWD,EAAa9T,oBAAxB,CAA4C/B,YC/BzE,SAAS+P,GAASc,GAAuB,IACrCC,EAAoCD,EAApCC,SAAUlL,EAA0BiL,EAA1BjL,MAAOkD,EAAmB+H,EAAnB/H,MAAUkI,EADS,YACAH,EADA,8BAE3C,OACI,kBAAC9D,EAAA,EAAD,eACIgJ,UAAU,MACV3C,KAAK,WACL4C,OAAQpQ,IAAUkD,EAClB3I,GAAE,0BAAqB2I,GACvB+J,kBAAA,qBAA+B/J,IAC3BkI,GAEHpL,IAAUkD,GAAS,kBAACmN,EAAA,EAAD,CAAKC,EAAG,GAAIpF,K,SD3BhC8D,O,gBAAAA,Q,KCgCL,IAAM3F,GAAgB3M,aAAW,SAACC,GAAD,OACpCC,YAAa,CACTiN,WAAY,CACRxS,MAAOsF,EAAMc,QAAQiN,QAAQ6F,aAC7BtY,gBAAiB0E,EAAMc,QAAQiN,QAAQ8F,MAE3C5G,YAAa,CACTvS,MAAOsF,EAAMc,QAAQgT,UAAUD,WAkG5BE,OA5Ff,WACI,IdgC+BC,EchCzB7S,EAAUuL,KAEVpL,EAAUvD,IAHL,EAKmBqE,IAAMb,SAASD,EAAQtC,SAL1C,mBAKJiV,EALI,KAKKC,EALL,OAMqC9R,IAAMb,UAAS,GANpD,mBAMJ4S,EANI,KAMcC,EANd,OAOwBhS,IAAMb,SAASD,EAAQpC,UAP/C,mBAOJA,EAPI,KAOMmV,EAPN,KA+BLC,EAAoB,WACtBF,GAAoB,IAYlBG,EAAiB5Q,IAAEY,IAAIrF,EAAU,QACjCsV,EAAc,CAAC,YAAa,WAAY,cACxCC,EAAI,UAAOD,EAAP,YAAuBD,IAEjC,SAAS3H,EAAc3O,EAAcsI,EAAesG,GAChD,IACM6H,EADYnO,EAAQiO,EAAYjW,OAAS,EACZ,CAACoW,SAAU,SAAUnU,SAAU,IAAM,GACxE,OAAO,kBAACsM,EAAA,EAAD,eAAKC,QAAS,kBAhBzB,SAAwB9O,EAAcsI,GAClCjD,IAAQJ,MAAM,CACVK,SAAU,QACVC,OAAQ,MACRrG,MAAOc,IAEXa,EAAiB,eAAIwC,EAAL,CAActC,QAASuH,KAUZyG,CAAe/O,EAAMsI,IAAQpJ,MAAOc,EACnDpB,UAAW0J,IAAUsG,EAAW1L,EAAQ8L,YAAc9L,EAAQ+L,YAC1D,CACArQ,UAAU,cAAD,OAAgB0J,GAAS3I,GAAG,cAAD,OAAgB2I,GACpD,gBAAgB,mBAAhB,OAAoCA,IAJ7C,CAKQ+E,MAAK,eAAMoJ,GAAiBjO,IAAKF,KAOpD,OAJAzD,qBAAU,WACN8R,OAAOhY,SAAS,EAAG,KACpB,IAEI,oCACH,kBAACuQ,EAAA,EAAD,CAAQxP,SAAS,UACb,kBAACyP,EAAA,EAAD,CAAM/J,MAAO4Q,EAAS5N,SAxDT,SAACnD,EAA8BmK,GAChD6G,EAAW7G,IAuDuCpH,QAAQ,aAAaqH,cAAc,QAC5E3J,IAAEY,IAAIkQ,GAAM,SAAChN,EAAG8F,GAAJ,OAAYX,EAAcnF,EAAG8F,EAAK0G,MAC/C,kBAACtF,EAAA,EAAD,CAAY9R,UAAS,kBAAqBgY,gBAAc,OAAOna,MAAM,UACzDqS,QAvDK,WACzBqH,GAAoB,KAuDR,kBAAC,KAAD,SAIZ,kBAAC5G,GAAD,CAAUnK,MAAO4Q,EAAS1N,MAAO,EAAGE,IAAK,GACrC,kBAAC,EAAD,OAEJ,kBAAC+G,GAAD,CAAUnK,MAAO4Q,EAAS1N,MAAO,EAAGE,IAAK,GACrC,kBAAC,GAAD,OAEJ,kBAAC+G,GAAD,CAAUnK,MAAO4Q,EAAS1N,MAAO,EAAGE,IAAK,GACrC,kBAAC,EAAD,OAEH9C,IAAEY,IAAIrF,GAAU,WAAQZ,GAAR,IAAEwR,EAAF,EAAEA,IAAF,OACb,kBAACtC,GAAD,CAAUnK,MAAO4Q,EAAS1N,MAAOiO,EAAYjW,OAASD,EAAGmI,IAAK+N,EAAYjW,OAASD,GAC/E,kBAAC,GAAD,CAAYwR,IAAKA,QAEzB,kBAACN,GAAD,CAAcC,OAAQ0E,EAAkBzE,WArEvB,SAACI,EAAarV,GAC/B,IAAMqa,EAAS,CACXvO,MAAOrH,EAASX,OAChB9D,QAASA,EAAQwD,KACjBqR,KAAM7U,EAAQ6U,KACdQ,IAAKA,EACLiF,UAAWpQ,MAASqQ,QAElBC,EAActR,IAAEmB,OAAO5F,EAAU,CAAC4V,IACxChW,EAAiB,eAAIwC,EAAL,CAAcpC,SAAU+V,KACxCZ,EAAeY,GACfX,KA2Dc3E,YAAa2E,IAC3B,kBAAChC,GAAD,CAAYC,KdvDeyB,EcuDU3B,GAAYI,OdtD9C9O,IAAEhF,QAAQZ,IAAkByB,mBAAoBwU,IAAe,IcsDVvW,KAAM4U,GAAYI,S,oBCpIlFnP,IAAQ4R,WAAW,kBACnB5R,IAAQ6R,SAASP,OAAOQ,SAASC,UAGjC,IAAMrV,GAAQsV,aAAe,CACzBxU,QAAS,CACLiN,QAAS,CACL8F,KAAM,WAEVC,UAAW,CACPD,KAAM,cAIlB0B,IAASC,OAAO,kBAACC,GAAA,EAAD,CAAezV,MAAOA,IAAO,kBAAC,GAAD,OACzCpF,SAAS8a,eAAe,SAE5B9a,SAASC,KAAKyQ,MAAMlL,OAAS,M","file":"static/js/main.e14bbbc6.chunk.js","sourcesContent":["import React from 'react';\nimport {Line} from 'react-chartjs-2';\n\nexport default function PredictionChart({labelsPlot, dataExistingPlot, dataPredictedPlot, country, color}: { labelsPlot: string[], dataExistingPlot: number[], dataPredictedPlot: number[], country: string, color: string }) {\n    const pageWidth = document.body.getBoundingClientRect().width;\n    const pageHeight = document.body.getBoundingClientRect().height;\n    console.info(pageWidth, pageHeight)\n    const commonLineStyle = {\n        backgroundColor: color + 'AA',\n        borderColor: color,\n        pointBorderColor: color,\n        pointHoverBackgroundColor: color,\n        pointHoverBorderColor: color + '33',\n        pointBackgroundColor: '#fff',\n        fill: false,\n        lineTension: 0.1,\n        borderCapStyle: 'butt',\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderWidth: 1,\n        pointHoverRadius: 10,\n        pointHoverBorderWidth: 2,\n        pointHitRadius: 10\n    };\n    const pastLineStyle = {...commonLineStyle, borderDash: [], pointRadius: 3};\n    const predictionLineStyle = {\n        ...commonLineStyle,\n        borderDash: [5, 2],\n        pointRadius: 2,\n        backgroundColor: '#000AA',\n        borderColor: '#2196f3',\n        pointHoverRadius: 5,\n        pointBorderColor: '#2196f3',\n        pointHoverBackgroundColor: '#2196f3',\n        pointHoverBorderColor: '#00033'\n    };\n    const css = `\n        .chartWrapper {\n          position: relative;\n        }\n        .chartWrapper > canvas {\n          position: absolute;\n          left: 0;\n          top: 0;\n          pointer-events: none;\n        }\n        .chartAreaWrapper {\n          width: ${pageWidth - 120}px;\n          overflow-x: scroll;\n        }\n        .chartAreaWrapper2 {\n          width: ${pageWidth * 2}px!important;\n        }\n        `\n    const options = {\n        maintainAspectRatio: false,\n        scales: {\n            yAxes: [\n                {\n                    type: 'linear',\n                    display: true,\n                    position: 'right',\n                    id: 'y-axis-1',\n                    gridLines: {\n                        display: false\n                    },\n                    labels: {\n                        show: true\n                    }\n                }\n            ]\n        }\n    };\n    // noinspection JSUnusedGlobalSymbols\n    const plugins = [{\n        afterDraw: () => {\n            scrollDiv?.scrollTo(pageWidth * 2, 0)\n        }\n    }];\n    let scrollDiv: HTMLDivElement | null;\n    return <div>\n        <style>\n            {css}\n        </style>\n        <div className=\"chartWrapper\">\n            <div className=\"chartAreaWrapper\" ref={(el) => {\n                scrollDiv = el;\n            }}>\n                <div className=\"chartAreaWrapper2\">\n                    <Line data={{\n                        labels: labelsPlot,\n                        datasets: [\n                            {...pastLineStyle, label: country, data: dataExistingPlot},\n                            {\n                                ...predictionLineStyle,\n                                label: country + ' (predicted)',\n                                data: dataPredictedPlot\n                            }\n                        ]\n                    }} legend={null} height={pageWidth / 2.88} plugins={plugins} options={options}/>\n                </div>\n            </div>\n        </div>\n    </div>;\n}","import store from \"store\";\nimport {Onboardings} from \"./Onboarding\";\nimport _ from \"lodash\";\n\nexport interface StorageState {\n    readonly isMigrated: boolean,\n    readonly tabMain: number,\n    readonly userTabs: UserTab[],\n    readonly tabAnalysis: number,\n    readonly country: string,\n    readonly prediction: number,\n    readonly type: string,\n    readonly watchedOnboardings: number[],\n}\n\nexport interface UserTab {\n    readonly index: number,\n    readonly country: string,\n    readonly flag: string,\n    readonly url: string,\n    readonly timestamp: number\n}\n\nconst IS_MIGRATED = 'is-mimgrated';\nconst TAB_MAIN = 'tab-main';\nconst USER_TABS = 'user-tabs';\nconst TAB_ANALYSIS = 'tab-analysis';\nconst COUNTRY = 'country';\nconst PREDICTION = 'prediction';\nconst TYPE = 'type';\nconst WATCHED_ONBOARDINGS = 'watched-onboardings';\n\nexport function getStorageState() {\n    function getCookie(name: string) {\n        let nameEQ = name + \"=\";\n        let ca = document.cookie.split(';');\n        for (let i = 0; i < ca.length; i++) {\n            let c = ca[i];\n            while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n        }\n        return null;\n    }\n\n    function rebuildStorageFromCookies() {\n        saveStorageState({\n            isMigrated: true,\n            tabMain: Number(getCookie(TAB_MAIN) || 0),\n            userTabs: JSON.parse((decodeURIComponent(getCookie(USER_TABS) || '[]'))) as UserTab[],\n            tabAnalysis: Number(getCookie(TAB_ANALYSIS) || 0),\n            country: getCookie(COUNTRY) || 'Worldwide',\n            prediction: Number(getCookie(PREDICTION) || 1),\n            type: getCookie(TYPE) || 'Confirmed',\n            watchedOnboardings: []\n        } as StorageState)\n    }\n\n    if (getCookie(TAB_MAIN) && !store.get(IS_MIGRATED)) {\n        rebuildStorageFromCookies()\n    }\n    return {\n        isMigrated: store.get(IS_MIGRATED, false),\n        tabMain: store.get(TAB_MAIN, 0),\n        userTabs: JSON.parse(store.get(USER_TABS, '[]')) as UserTab[],\n        tabAnalysis: store.get(TAB_ANALYSIS, 0),\n        country: store.get(COUNTRY, 'Worldwide'),\n        prediction: store.get(PREDICTION, 1),\n        type: store.get(TYPE, 'Confirmed'),\n        watchedOnboardings: store.get(WATCHED_ONBOARDINGS, []),\n    } as StorageState;\n}\n\nexport function saveStorageState(data: StorageState) {\n    store.set(IS_MIGRATED, data.isMigrated);\n    store.set(TAB_MAIN, data.tabMain);\n    store.set(USER_TABS, JSON.stringify(data.userTabs));\n    store.set(TAB_ANALYSIS, data.tabAnalysis);\n    store.set(COUNTRY, data.country);\n    store.set(PREDICTION, data.prediction);\n    store.set(TYPE, data.type);\n    store.set(WATCHED_ONBOARDINGS, data.watchedOnboardings);\n}\n\nexport function isWatchedOboarding(onboarding: Onboardings) {\n    return _.indexOf(getStorageState().watchedOnboardings, onboarding) >= 0\n}\n\n\n","import React, {useEffect, useState} from 'react';\nimport Papa from 'papaparse';\nimport PredictionChart from \"./PredictionChart\";\nimport {\n    Fade,\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n    Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport _, {Dictionary} from \"lodash\";\nimport ReactGA from 'react-ga';\nimport moment from \"moment\";\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\nimport ReactHtmlParser from 'react-html-parser';\nimport {getStorageState, saveStorageState} from \"./Storage\";\n\nconst {Octokit} = require(\"@octokit/rest\");\nconst octokit = new Octokit();\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginLeft: 0,\n            margin: theme.spacing(2),\n            textAlign: 'center'\n        },\n        formControl: {\n            margin: theme.spacing(2),\n            minWidth: 100,\n        },\n        footer: {\n            opacity: 0.5\n        },\n        latestUpdate: {\n            opacity: 0.5\n        },\n        chart: {\n            width: '90%'\n        },\n        infoIcon: {\n            color: theme.palette.grey.A200,\n            height: theme.spacing(2),\n            width: theme.spacing(2),\n            paddingTop: theme.spacing(1),\n            marginLeft: theme.spacing(1) / 4\n        },\n    }),\n);\n\nfunction Prediction() {\n    const classes = useStyles();\n    const baseUrl = \"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_\";\n    const types = {\n        'Confirmed': '#f57c00',\n        'Deaths': '#FC562E',\n        'Recovered': '#388e3c'\n    };\n    const daysMapping = {\n        'Tomorrow': 1,\n        '2 days': 2,\n        '3 days': 3,\n        '1 week': 7\n    }\n\n    const storage = getStorageState()\n\n    const [labels, setLabels] = useState([] as Date[]);\n    const [country, setCountry] = useState(storage.country);\n    const [dataType, setDataType] = useState(storage.type);\n    const [countries, setCountries] = useState([] as string[]);\n    const [days, setDays] = useState(storage.prediction);\n    const [data, setData] = useState([] as any[]);\n    const [lastUpdate, setLastUpdate] = useState('');\n\n    const inputCountryLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelCountryWidth, setLabelCountryWidth] = React.useState(0);\n    const inputDaysLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelDaysWidth, setLabelDaysWidth] = React.useState(0);\n    const inputDataTypeLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelDataTypeWidth, setLabelDataTypeWidth] = React.useState(0);\n\n    React.useEffect(() => {\n        setLabelCountryWidth(inputCountryLabel.current!.offsetWidth);\n        setLabelDaysWidth(inputDaysLabel.current!.offsetWidth);\n        setLabelDataTypeWidth(inputDataTypeLabel.current!.offsetWidth);\n    }, []);\n\n    const handleCountryChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newCountry = event.target.value as string;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Country',\n            label: newCountry\n        });\n        saveStorageState({...storage, country: newCountry})\n        setCountry(newCountry);\n    };\n\n    const handleDaysChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newRange = event.target.value as number;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Range',\n            label: _.findKey(newRange)\n        });\n        saveStorageState({...storage, prediction: newRange})\n        setDays(newRange);\n    };\n\n    const handleDataTypeChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newType = event.target.value as string;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Type',\n            label: newType\n        });\n        saveStorageState({...storage, type: newType})\n        setDataType(newType);\n    };\n\n    const loadData = () => {\n        Papa.parse(baseUrl + dataType.toLowerCase() + '_global.csv', {\n            skipEmptyLines: true, header: true, download: true, delimiter: ',',\n            complete: function (results) {\n                let data = results.data;\n                let labels = _.map(_.slice(_.keys(data[0]), 4), (strDate) => moment(strDate).add(1, 'days').toDate())\n                let countries = _.concat(['Worldwide'], _.sortBy(data.map(row => row['Province/State'].length > 0 ? `${row['Country/Region']}/${row['Province/State']}` : row['Country/Region'])));\n                setCountries(countries)\n                setLabels(labels)\n                setData(data)\n            }\n        });\n    }\n\n    const loadLastUpdateTime = () => {\n        octokit.repos.listCommits({\n            owner: 'CSSEGISandData',\n            repo: 'COVID-19'\n        }).then((x: any) => {\n            const latestCommitTime = _.values(x['data'])[0]['commit']['committer']['date']\n            setLastUpdate(moment(latestCommitTime).fromNow());\n        });\n    }\n\n    useEffect(loadData, [dataType]);\n    useEffect(loadLastUpdateTime, []);\n\n    function buildTypeSelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputDataTypeLabel}\n                            id=\"select-type-input-id\">Type</InputLabel>\n                <Select\n                    labelId=\"select-type-select-country\"\n                    id=\"select-type-select-id\"\n                    value={dataType}\n                    onChange={handleDataTypeChange}\n                    labelWidth={labelDataTypeWidth}\n                >\n                    {\n                        _.map(_.keys(types), (value, index) => <MenuItem key={index}\n                                                                         value={value}>{value}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildCountrySelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputCountryLabel}\n                            id=\"select-country-input-id\">Location</InputLabel>\n                <Select\n                    labelId=\"select-country-select-country\"\n                    id=\"select-country-select-id\"\n                    value={country}\n                    onChange={handleCountryChange}\n                    labelWidth={labelCountryWidth}\n                >\n                    {\n                        countries.map((country, index) =>\n                            <MenuItem key={index} value={country}>{country}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildDaysSelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputDaysLabel}\n                            id=\"select-days-input-id\">Prediction</InputLabel>\n                <Select\n                    labelId=\"select-days-select-country\"\n                    id=\"select-days-select-id\"\n                    value={days}\n                    onChange={handleDaysChange}\n                    labelWidth={labelDaysWidth}\n                >\n                    {\n                        _.map(daysMapping, (values, key) => <MenuItem key={values}\n                                                                      value={values}>{key}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildChart() {\n        function getCasesPerCountry(countryToCheck: string): string[] {\n            if (countryToCheck === 'Worldwide') {\n                let casesSelection = _.map(data, x => _.slice(_.values(x), 4) as string[]);\n                return _.filter(_.reduce(casesSelection, (acc, value, index) => {\n                    acc[index] = String(_.sum(_.map(casesSelection, (row => Number(row[index])))));\n                    return acc\n                }, [] as string[]), (value) => Number(value) > 0);\n            } else {\n                return _.slice(_.values(_.find(data, row => {\n                    let isComplexRegion = _.indexOf(countryToCheck, '/') !== -1;\n                    const region = isComplexRegion ? _.split(countryToCheck, '/')[0] : countryToCheck\n                    const state = isComplexRegion ? _.split(countryToCheck, '/')[1] : \"\"\n                    return row['Country/Region'] === region && row['Province/State'] === state\n                })), 4) as string[];\n            }\n        }\n\n        function buildNextDaysLabels(startingDay: Date, days: number): Date[] {\n            return _.reduce(_.range(1, +days + +1), (acc, v, i) => {\n                acc[i] = moment(startingDay || Date.now()).add(i + 1, \"days\").toDate();\n                return acc\n            }, [] as Date[]);\n        }\n\n        function nextDayPrediction(allDays: Dictionary<number>, currentDate: Date) {\n            const predictionSampleSize = 5;\n            const index = _.indexOf(_.keys(allDays), moment(currentDate).format('l'))\n            const lastPart = _.slice(_.values(allDays), index - predictionSampleSize, index + 1);\n            const mults = _.reduce(lastPart, (acc, value, i) => {\n                let previousValue = lastPart[i - 1];\n                if (i > 0 && previousValue > 0 && !isNaN(value) && !isNaN(previousValue)) {\n                    acc[i - 1] = value / previousValue\n                }\n                return acc\n            }, [] as number[])\n            let remove = _.filter(mults, x => !_.isNaN(x));\n            const avgMult = _.mean(remove) || 1\n            return _.reduce(_.range(1, 2), (acc, v, i) => {\n                acc[i] = Math.round(_.reduce(_.range(0, v), (acc) => acc * avgMult, 1) * (_.last(lastPart) || 0));\n                return acc\n            }, [] as number[])[0];\n        }\n\n        function onlyValidNumbers(values: number[]) {\n            return _.filter(values, (v) => v !== undefined);\n        }\n\n        function zipLabelsWithValues(dateLabels: Date[], values: number[]): Dictionary<number> {\n            return _.zipObject(dateLabels.map(x => moment(x).format('l')), values);\n        }\n\n        function buildPrediction(labelsNormalized: Date[], existingData: Dictionary<number>, range: number) {\n            let oneDayPrediction = _.concat([0], _.take(_.map(labelsNormalized, (date: Date) => nextDayPrediction(existingData, date)), _.values(existingData).length));\n            let predictionAcc = zipLabelsWithValues(labelsNormalized, oneDayPrediction);\n            for (let i = 1; i < range; i++) {\n                const targetDay = labelsNormalized[_.findIndex(_.values(predictionAcc), v => v === undefined) - 1]\n                const nextDayPredicted = nextDayPrediction(predictionAcc, targetDay)\n                const newPredictionSerie = _.concat(onlyValidNumbers(_.values(predictionAcc)), [nextDayPredicted]);\n                predictionAcc = zipLabelsWithValues(labelsNormalized, newPredictionSerie)\n            }\n            return _.values(predictionAcc);\n        }\n\n        function calculateAccuracy(dataExistingPlot: number[], dataPredictedPlot: number[], days: number) {\n            function mismatchPercentage(existing: number, predicted: number) {\n                if (existing === predicted) {\n                    return 0;\n                } else if (existing === 0 || predicted === 0) {\n                    return (existing + predicted) * 100\n                } else {\n                    const biggerVal = _.max([existing, predicted])!;\n                    const smallerVal = _.min([existing, predicted])!;\n                    return Math.abs(1 - biggerVal / smallerVal) * 100;\n                }\n            }\n\n            const deviationAgeDays = 7;\n            const deviationsAll = _.zipWith(dataExistingPlot, dataPredictedPlot, mismatchPercentage);\n            const rangeStart = deviationsAll.length - days - deviationAgeDays < 0 ? 0 : deviationsAll.length - days - deviationAgeDays;\n            const deviations = _.slice(deviationsAll, rangeStart, rangeStart + deviationAgeDays).filter(x => !isNaN(x));\n            const acc = _.round(100 - _.mean(deviations), 1);\n            if (acc <= 0) {\n                return 1;\n            } else if (acc >= 100) {\n                return 99;\n            } else {\n                return acc;\n            }\n        }\n\n        const labelsNormalized = _.concat(labels, buildNextDaysLabels(_.last(labels)!, days));\n        const dataPerCountry = getCasesPerCountry(country).map(Number);\n        const existingData = zipLabelsWithValues(labels, dataPerCountry);\n        const prediction = buildPrediction(labelsNormalized, existingData, days)\n        let indexOfFirstPacient = _.findIndex(_.values(existingData), (x) => x > 0) - 1\n        indexOfFirstPacient = indexOfFirstPacient < 0 ? 0 : indexOfFirstPacient\n        let dataExistingPlot = _.values(existingData).slice(indexOfFirstPacient);\n        let dataPredictedPlot = _.values(prediction).slice(indexOfFirstPacient);\n        let labelsPlot = labelsNormalized.slice(indexOfFirstPacient).map(date => moment(date).format('ll'));\n        const accuracy = calculateAccuracy(dataExistingPlot, dataPredictedPlot, days);\n        if (accuracy < 60) {\n            dataPredictedPlot = dataPredictedPlot.map(_ => NaN);\n        }\n        const predictionTomorrow = _.findLast(buildPrediction(labelsNormalized, existingData, 1), (x) => x !== undefined);\n        // @ts-ignore\n        const color = types[dataType];\n        const titleTooltip = \"The accuracy calculation is based on a comparison of the last 7 days prediction and actual values of those days\"\n        return data.length\n            ? (\n                <>\n                    <Grid item>\n                        <Grid item container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                            {accuracy > 60\n                                ? <>\n                                    <Grid item>\n                                        <Typography variant={\"caption\"}>\n                                            {ReactHtmlParser(`There is <strong>${accuracy}%</strong> chance to have <strong>${predictionTomorrow}</strong> ${_.lowerCase(dataType)} tomorrow (${country})`)}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <Tooltip title={titleTooltip} arrow\n                                                 TransitionComponent={Fade}>\n                                            <InfoRoundedIcon className={classes.infoIcon}/>\n                                        </Tooltip>\n                                    </Grid>\n                                </>\n                                : <>\n                                    <Typography variant={\"caption\"}>\n                                        {ReactHtmlParser(`${country} does not have enough <strong>${_.lowerCase(dataType)}</strong> cases for reliable prediction`)}\n                                    </Typography>\n                                </>}\n                        </Grid>\n                    </Grid>\n                    <Grid item>\n                        <PredictionChart labelsPlot={labelsPlot} dataExistingPlot={dataExistingPlot}\n                                         dataPredictedPlot={dataPredictedPlot} country={country}\n                                         color={color}/>\n                    </Grid>\n                </>\n            )\n            : '';\n    }\n\n    function getFooter() {\n        return <Typography variant={\"caption\"}>\n            <ReactGA.OutboundLink\n                eventLabel=\"Data source\" target=\"_blank\"\n                to=\"https://github.com/CSSEGISandData/COVID-19\">\n                Data source\n            </ReactGA.OutboundLink>\n            {' • '}\n            <ReactGA.OutboundLink\n                eventLabel=\"Github\" target=\"_blank\"\n                to=\"https://github.com/ValeryP/coronavirus-spread\">\n                Github\n            </ReactGA.OutboundLink>\n        </Typography>;\n    }\n\n    function buildLastUpdateLabel() {\n        return <Typography variant={\"caption\"}>{`Latest update ${lastUpdate}`}</Typography>;\n    }\n\n    return (\n        <Grid\n            container direction=\"column\" justify=\"center\" alignItems=\"center\"\n            className={classes.root}>\n            <Grid item>\n                {buildTypeSelect()}\n                {buildCountrySelect()}\n                {buildDaysSelect()}\n            </Grid>\n            <Grid item container direction=\"column\" className={classes.chart}>\n                {buildChart()}\n            </Grid>\n            <Grid item className={classes.footer}>{getFooter()}</Grid>\n            {lastUpdate &&\n            <Grid item className={classes.latestUpdate}>{buildLastUpdateLabel()}</Grid>}\n        </Grid>\n    )\n}\n\nexport default Prediction;\n","import React from 'react';\n\nfunction Dashboard() {\n    return <>\n        <iframe title={\"Dashboard\"}\n                src=\"https://gisanddata.maps.arcgis.com/apps/opsdashboard/index.html#/bda7594740fd40299423467b48e9ecf6\"\n                style={{width: '100%', height: '100vh', border: 0}}/>\n    </>\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        }\n    })\n);\n\nfunction DailyNewDeaths() {\n    const classes = useStyles();\n    return <>\n        <Grid container justify=\"space-evenly\" className={classes.root}>\n            <Grid item xs={6}>\n                <iframe title={\"DailyNewDeaths1\"}\n                        src=\"https://ourworldindata.org/grapher/daily-deaths-covid-19\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n            <Grid item xs={6}>\n                <iframe title={\"DailyNewDeaths2\"}\n                        src=\"https://ourworldindata.org/grapher/total-deaths-covid-19\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n\n        </Grid>\n    </>\n}\n\nexport default DailyNewDeaths;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        }\n    })\n);\n\nfunction DeathsPerMillion() {\n    const classes = useStyles();\n    return <>\n        <Grid container justify=\"space-evenly\" className={classes.root}>\n            <Grid item xs={5}>\n                <iframe title={\"DeathsPerMillion1\"}\n                        src=\"https://ourworldindata.org/grapher/total-covid-deaths-per-million\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n            <Grid item xs={7}>\n                <iframe title={\"DeathsPerMillion2\"}\n                        src=\"https://ourworldindata.org/grapher/new-covid-deaths-per-million\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n\n        </Grid>\n    </>\n}\n\nexport default DeathsPerMillion;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        },\n        rootBottom: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(12),\n        }\n    })\n);\n\nfunction TestsPerCountry() {\n    const classes = useStyles();\n    return <>\n        <Grid container direction=\"column\" className={classes.root}>\n            <Grid container item justify=\"space-evenly\" className={classes.root}>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry1\"}\n                            src=\"https://ourworldindata.org/grapher/tests-vs-confirmed-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry2\"}\n                            src=\"https://ourworldindata.org/grapher/covid-19-tests-country\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n\n            </Grid>\n            <Grid container item justify=\"space-evenly\" className={classes.rootBottom}>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry3\"}\n                            src=\"https://ourworldindata.org/grapher/tests-vs-confirmed-cases-covid-19-per-million\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry4\"}\n                            src=\"https://ourworldindata.org/grapher/covid19-tests-per-million-people\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n            </Grid>\n        </Grid>\n    </>\n}\n\nexport default TestsPerCountry;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        },\n        rootBottom: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(12),\n        }\n    })\n);\n\nfunction ConfirmedPerCountry() {\n    const classes = useStyles();\n    return <>\n        <Grid container direction=\"column\" className={classes.root}>\n            <Grid container item justify=\"space-evenly\" className={classes.root}>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry1\"}\n                            src=\"https://ourworldindata.org/grapher/total-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry2\"}\n                            src=\"https://ourworldindata.org/grapher/daily-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n\n            </Grid>\n            <Grid container item justify=\"space-evenly\" className={classes.rootBottom}>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry3\"}\n                            src=\"https://ourworldindata.org/grapher/total-confirmed-cases-of-covid-19-per-million-people\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry4\"}\n                            src=\"https://ourworldindata.org/grapher/new-covid-cases-per-million?year=59\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n            </Grid>\n        </Grid>\n    </>\n}\n\nexport default ConfirmedPerCountry;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(1),\n        }\n    })\n);\n\nfunction SpeedOfGrowth() {\n    const classes = useStyles();\n    return <>\n        <Grid container className={classes.root}>\n            <iframe title={\"SpeedOfGrowth\"}\n                    src=\"https://ourworldindata.org/grapher/covid-confirmed-cases-since-100th-case\"\n                    style={{width: '99%', height: 600, border: 0}}/>\n        </Grid>\n    </>\n}\n\nexport default SpeedOfGrowth;\n","import React from 'react';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {Container, Divider} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            paddingLeft: 200,\n            paddingRight: 200,\n        },\n        img: {\n            margin: theme.spacing(2),\n            marginTop: theme.spacing(4),\n            marginBottom: theme.spacing(4),\n            width: '100%'\n        }\n    })\n);\n\nfunction SymptomsAndFatality() {\n    const classes = useStyles();\n    return <>\n        <Container className={classes.root}>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-Symptoms-%E2%80%93-WHO-joint-mission-2-1536x823.png'}/>\n            <Divider/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Severity-of-coronavirus-cases-in-China-1-1536x1322.png'}/>\n            <Divider/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-CFR-by-age-in-China-1.png'}/>\n            <Divider/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-CFR-by-health-condition-in-China.png'}/>\n            <Divider/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Covid-19-CFR-by-age-vs.-US-Seasonal-Flu-3.png'}/>\n        </Container>\n    </>\n}\n\nexport default SymptomsAndFatality;\n","import React from 'react';\n\nfunction EpidemicCalculator() {\n    return <>\n        <iframe title={\"EpidemicCalculator\"}\n                src=\"https://gabgoh.github.io/COVID/index.html?CFR=0.051&D_hospital_lag=5&D_incbation=5.2&D_infectious=2.9&D_recovery_mild=11.1&D_recovery_severe=28.6&I0=6&InterventionAmt=0.47&InterventionTime=20.137399999999992&P_SEVERE=0.1446&R0=2.49&Time_to_death=21.25&logN=17.51\"\n                style={{width: '100%', height: '100vh', border: 0}}/>\n    </>\n}\n\nexport default EpidemicCalculator;\n","import React from 'react';\nimport {AppBar, Tab, Tabs} from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport DailyNewDeaths from \"./DailyNewDeaths\";\nimport DeathsPerMillion from \"./DeathsPerMillion\";\nimport TestsPerCountry from \"./TestsPerCountry\";\nimport ConfirmedPerCountry from \"./ConfirmedPerCountry\";\nimport SpeedOfGrowth from \"./SpeedOfGrowth\";\nimport SymptomsAndFatality from \"./SymptomsAndFatality\";\nimport ReactGA from \"react-ga\";\nimport {TabPanel, tabsUseStyles} from \"./App\";\nimport EpidemicCalculator from \"./EpidemicCalculator\";\nimport {getStorageState, saveStorageState} from \"./Storage\";\n\nfunction Analysis() {\n    const classes = tabsUseStyles();\n\n    const storage = getStorageState()\n\n    const [value, setValue] = React.useState(storage.tabAnalysis);\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n\n    function handleTabClick(name: string, index: number) {\n        ReactGA.event({\n            category: 'Click',\n            action: 'Tab',\n            label: name\n        });\n        saveStorageState({...storage, tabAnalysis: index})\n    }\n\n    function buildTabTitle(name: string, index: number, selected: number) {\n        return <Tab onClick={() => handleTabClick(name, index)} label={name}\n                    className={index === selected ? classes.tabSelected : classes.tabDefault}\n                    {...{\n                        id: `simple-tab-${index}`,\n                        'aria-controls': `simple-tabpanel-${index}`,\n                    }} />\n    }\n\n    const tabs = ['Daily new deaths', 'Deaths per million', 'Tests by country',\n        'Daily new confirmed', 'Speed of growth', 'Epidemic Calculator', 'Symptoms and fatality']\n\n    return <>\n        <AppBar position=\"sticky\">\n            <Tabs value={value} onChange={handleChange} variant=\"scrollable\" scrollButtons=\"auto\">\n                {_.map(tabs, (v, ind) => buildTabTitle(v, ind, value))}\n            </Tabs>\n        </AppBar>\n        <TabPanel value={value} index={0}>\n            <DailyNewDeaths/>\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n            <DeathsPerMillion/>\n        </TabPanel>\n        <TabPanel value={value} index={2}>\n            <TestsPerCountry/>\n        </TabPanel>\n        <TabPanel value={value} index={3}>\n            <ConfirmedPerCountry/>\n        </TabPanel>\n        <TabPanel value={value} index={4}>\n            <SpeedOfGrowth/>\n        </TabPanel>\n        <TabPanel value={value} index={5}>\n            <EpidemicCalculator/>\n        </TabPanel>\n        <TabPanel value={value} index={6}>\n            <SymptomsAndFatality/>\n        </TabPanel>\n    </>\n}\n\nexport default Analysis;\n","import React from 'react';\nimport {createStyles, makeStyles, Theme, withStyles, WithStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport emojiFlags from 'emoji-flags';\nimport _ from \"lodash\";\nimport {CircularProgress, Fade, Grid, Slide, TextField, Zoom} from \"@material-ui/core\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport {TransitionProps} from \"@material-ui/core/transitions\";\n\nconst styles = (theme: Theme) => createStyles({\n    root: {\n        margin: 0,\n        padding: theme.spacing(2),\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(1),\n        top: theme.spacing(1),\n        color: theme.palette.grey[500],\n    },\n})\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n        textSuccess: {\n            color: theme.palette.success.dark\n        },\n        textError: {\n            color: theme.palette.error.dark\n        },\n        saveButton: {\n            color: theme.palette.primary.dark,\n        },\n    }),\n);\n\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\n    id: string;\n    children: React.ReactNode;\n    onClose: () => void;\n}\n\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\n    const {children, classes, onClose, ...other} = props;\n    return (\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\n            <Typography variant=\"h6\">{children}</Typography>\n            {onClose ? (\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                    <CloseIcon/>\n                </IconButton>\n            ) : null}\n        </MuiDialogTitle>\n    );\n});\n\nconst DialogContent = withStyles((theme: Theme) => ({\n    root: {\n        padding: theme.spacing(2),\n    },\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme: Theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(1),\n    },\n}))(MuiDialogActions);\nconst Transition = React.forwardRef<unknown, TransitionProps>(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport interface Country {\n    name: string,\n    flag: string\n}\n\nconst countryToEmojiMap = _.map(emojiFlags.data, ({name, emoji}) => ({\n    name: name,\n    flag: emoji\n} as Country))\n\nexport default function AddTabDialog({isOpen, handleSave, handleClose}: { isOpen: boolean, handleSave: (url: string, country: Country) => void, handleClose: () => void }) {\n    const classes = useStyles();\n\n    const [country, setCountry] = React.useState();\n    const [validUrl, setValidUrl] = React.useState();\n    const [url, setUrl] = React.useState();\n    const [loading, setLoading] = React.useState();\n\n    function resetState() {\n        setCountry(undefined)\n        setValidUrl(undefined)\n        setUrl(undefined)\n        setLoading(undefined)\n    }\n\n    function onDialogClosed() {\n        handleClose()\n        resetState();\n    }\n\n    function onSaveClicked() {\n        handleSave(url, country)\n        resetState();\n    }\n\n    function handleCountrySelected({target: {value} = ''}: any) {\n        setCountry(_.find(countryToEmojiMap, (v: Country) => v.name === value))\n    }\n\n    function buildAutocomplete() {\n        return <Autocomplete\n            id=\"country-select\"\n            style={{width: 300}}\n            options={countryToEmojiMap}\n            autoHighlight\n            onSelect={handleCountrySelected}\n            getOptionLabel={option => option.name}\n            renderOption={(c: Country) => (<><span>{c.flag}</span>{c.name}</>)}\n            renderInput={params => (\n                <TextField {...params}\n                           label=\"Choose your country\" variant=\"outlined\"\n                           inputProps={{...params.inputProps, autoComplete: 'new-password'}}/>\n            )}\n        />;\n    }\n\n    function handleUrlChange({target: {value}}: any) {\n        const corsProxy = 'https://cors-anywhere.herokuapp.com/'\n        setLoading(true)\n        setUrl(value)\n        fetch(corsProxy + value, {method: 'GET'})\n            .then((res) => {\n                setValidUrl(res.ok)\n            }, (err) => {\n                console.error(err)\n            })\n            .then(() => setTimeout(() => setLoading(false), 2000))\n    }\n\n    return (\n        <Dialog onClose={onDialogClosed} aria-labelledby=\"customized-dialog-title\" open={isOpen}\n                TransitionComponent={Transition} fullWidth>\n            <DialogTitle id=\"customized-dialog-title\" onClose={onDialogClosed}>\n                Add your website\n            </DialogTitle>\n            <DialogContent dividers style={{minHeight: 200}}>\n                <Grid container direction={\"column\"} alignItems=\"center\" justify=\"center\"\n                      style={{minHeight: 200}} spacing={2}>\n                    <Typography variant={\"caption\"} style={{margin: 16, textAlign: 'center'}}>\n                        Each country has its own country website with more detailed data.\n                        You can add the URL of your favorite website and it will be saved as a\n                        bookmark in the top bar of this page.\n                    </Typography>\n                    <Grid item xs container spacing={1} justify={\"center\"}>\n                        {country && <>\n                            <Grid item xs={2} style={{textAlign: 'end'}}>\n                                <Zoom in={country}>\n                                    <Typography variant={\"h3\"}>\n                                        <span aria-label={\"flag \" + country.name} role={\"img\"}>\n                                            {country?.flag}\n                                        </span>\n                                    </Typography>\n                                </Zoom>\n                            </Grid>\n                        </>}\n                        <Grid item>\n                            {buildAutocomplete()}\n                        </Grid>\n                    </Grid>\n                    {country &&\n                    <Grid item style={{width: '100%'}}>\n                        <TextField fullWidth variant=\"outlined\"\n                                   label=\"Insert URL of your website\"\n                                   onChange={handleUrlChange}/>\n                    </Grid>}\n                    {loading &&\n                    <Fade in={loading} unmountOnExit\n                          style={{transitionDelay: loading ? '300ms' : '0ms'}}>\n                        <Grid item spacing={1} container justify={\"center\"}\n                              style={{width: '100%'}}>\n                            <Grid item xs={1} style={{textAlign: 'end'}}>\n                                <CircularProgress size={20}/>\n                            </Grid>\n                            <Grid item>\n                                <Typography variant={\"body1\"}>Checking inserted URL...</Typography>\n                            </Grid>\n                        </Grid>\n                    </Fade>}\n                    {!loading && url && (validUrl\n                        ? <Grid item style={{width: '100%'}} container justify={\"center\"}>\n                            <Typography variant={\"body1\"} className={classes.textSuccess}>\n                                <span aria-label={\"happy\"} role={\"img\"}>😊</span>\n                                Great. URL is valid!\n                            </Typography>\n                        </Grid>\n                        : <Grid item style={{width: '100%'}} container justify={\"center\"}>\n                            <Typography variant={\"body1\"} className={classes.textError}>\n                                <span aria-label={\"sad\"} role={\"img\"}>😿</span>\n                                Inserted URL is not valid. Try another one, please.\n                            </Typography>\n                        </Grid>)}\n                </Grid>\n            </DialogContent>\n            {validUrl && !loading &&\n            <DialogActions>\n                <Button onClick={onSaveClicked} className={classes.saveButton}\n                        variant=\"contained\" color={\"secondary\"}>Save</Button>\n            </DialogActions>}\n        </Dialog>\n    );\n}\n","import React from 'react';\n\nfunction GenericTab({url}: { url: string }) {\n    return <>\n        <iframe title={\"GenericTab\"} src={url} style={{width: '100%', height: '100vh', border: 0}}/>\n    </>\n}\n\nexport default GenericTab;\n","import Joyride, {STATUS, Step} from \"react-joyride\";\nimport React from \"react\";\nimport {getStorageState, saveStorageState} from \"./Storage\";\nimport _ from \"lodash\";\n\nexport enum Onboardings {\n    MAIN\n}\n\nexport function Onboarding({run, type}: { run: boolean, type: Onboardings }) {\n    const STEPS = {\n        MAIN: [\n            {\n                target: 'body',\n                content: <p>This website lets you keep all the info about the COVID-19 world\n                    situation\n                    in a single place. <strong>Trusted data source. Daily updates.</strong>\n                </p>,\n                placement: 'center',\n            },\n            {\n                target: '.simple-tab-0',\n                content: <p><u>Dashboard</u> has the most reliable <strong>map that contains all\n                    countries</strong>' data.</p>,\n            },\n            {\n                target: '.simple-tab-1',\n                content: <p><u>Analysis</u> has <strong>detailed charts</strong> with granularly\n                    picked\n                    scientific data.</p>,\n            },\n            {\n                target: '.simple-tab-2',\n                content: <p><u>Prediction</u> chart shows <strong>how the disease will\n                    spread</strong> in each country.</p>,\n            },\n            {\n                target: '.simple-tab-last',\n                content: <p>You can <strong>add the URL of the website you frequently\n                    check</strong> and\n                    it will be saved as an icon in the top bar of this page.</p>,\n            },\n        ] as Step[]\n    }\n\n    const handleJoyrideCallback = (data: { status: any; }) => {\n        const {status} = data;\n\n        if ([STATUS.FINISHED, STATUS.SKIPPED].includes(status)) {\n            const storageState = getStorageState();\n            saveStorageState({\n                ...storageState,\n                watchedOnboardings: _.uniq([...storageState.watchedOnboardings, type])\n            })\n        }\n    };\n\n\n    let steps = STEPS.MAIN;\n\n    return <Joyride continuous={true} run={run} showSkipButton={true} steps={steps}\n                    styles={{options: {zIndex: 10000}}} callback={handleJoyrideCallback}/>\n}","import React, {useEffect} from 'react';\nimport Prediction from \"./Prediction\";\nimport {AppBar, Box, IconButton, Tab, Tabs, Typography} from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport ReactGA from \"react-ga\";\nimport Dashboard from \"./Dashboard\";\nimport Analysis from \"./Analysis\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport AddRoundedIcon from '@material-ui/icons/AddRounded';\nimport AddTabDialog, {Country} from \"./AddTabDialog\";\nimport moment from \"moment\";\nimport GenericTab from \"./GenericTab\";\nimport {Onboarding, Onboardings} from \"./Onboarding\";\nimport {getStorageState, isWatchedOboarding, saveStorageState, UserTab} from \"./Storage\";\n\nexport interface TabPanelProps {\n    children?: React.ReactNode;\n    index: any;\n    value: any;\n}\n\nexport function TabPanel(props: TabPanelProps) {\n    const {children, value, index, ...other} = props;\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && <Box p={0}>{children}</Box>}\n        </Typography>\n    );\n}\n\nexport const tabsUseStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        tabDefault: {\n            color: theme.palette.primary.contrastText,\n            backgroundColor: theme.palette.primary.main\n        },\n        tabSelected: {\n            color: theme.palette.secondary.main,\n        }\n    }),\n);\n\n\nfunction App() {\n    const classes = tabsUseStyles();\n\n    const storage = getStorageState()\n\n    const [mainTab, setMainTab] = React.useState(storage.tabMain);\n    const [showAddTabDialog, setShowAddTabDialog] = React.useState(false);\n    const [userTabs, setUserTabsRaw] = React.useState(storage.userTabs);\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setMainTab(newValue);\n    };\n\n    const handleAddButtonClick = () => {\n        setShowAddTabDialog(true)\n    };\n\n    const handleAddTab = (url: string, country: Country) => {\n        const newTab = {\n            index: userTabs.length,\n            country: country.name,\n            flag: country.flag,\n            url: url,\n            timestamp: moment().unix()\n        } as UserTab\n        const userTabsObj = _.concat(userTabs, [newTab]);\n        saveStorageState({...storage, userTabs: userTabsObj})\n        setUserTabsRaw(userTabsObj)\n        handleAddTabClose()\n    };\n\n    const handleAddTabClose = () => {\n        setShowAddTabDialog(false)\n    };\n\n    function handleTabClick(name: string, index: number) {\n        ReactGA.event({\n            category: 'Click',\n            action: 'Tab',\n            label: name\n        });\n        saveStorageState({...storage, tabMain: index})\n    }\n\n    const userTabsTitles = _.map(userTabs, 'flag')\n    const tabsDefault = ['Dashboard', 'Analysis', 'Prediction']\n    const tabs = [...tabsDefault, ...userTabsTitles]\n\n    function buildTabTitle(name: string, index: number, selected: number) {\n        const isUserTab = index > tabsDefault.length - 1;\n        const userTabsStyles = isUserTab ? {fontSize: '1.3rem', minWidth: 64} : {};\n        return <Tab onClick={() => handleTabClick(name, index)} label={name}\n                    className={index === selected ? classes.tabSelected : classes.tabDefault}\n                    {...{\n                        className: `simple-tab-${index}`, id: `simple-tab-${index}`,\n                        'aria-controls': `simple-tabpanel-${index}`,\n                    }} style={{...userTabsStyles}} key={index}/>\n    }\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [])\n\n    return <>\n        <AppBar position=\"sticky\">\n            <Tabs value={mainTab} onChange={handleChange} variant=\"scrollable\" scrollButtons=\"auto\">\n                {_.map(tabs, (v, ind) => buildTabTitle(v, ind, mainTab))}\n                <IconButton className={`simple-tab-last`} aria-haspopup=\"true\" color=\"inherit\"\n                            onClick={handleAddButtonClick}>\n                    <AddRoundedIcon/>\n                </IconButton>\n            </Tabs>\n        </AppBar>\n        <TabPanel value={mainTab} index={0} key={0}>\n            <Dashboard/>\n        </TabPanel>\n        <TabPanel value={mainTab} index={1} key={1}>\n            <Analysis/>\n        </TabPanel>\n        <TabPanel value={mainTab} index={2} key={2}>\n            <Prediction/>\n        </TabPanel>\n        {_.map(userTabs, ({url}, i) =>\n            <TabPanel value={mainTab} index={tabsDefault.length + i} key={tabsDefault.length + i}>\n                <GenericTab url={url}/>\n            </TabPanel>)}\n        <AddTabDialog isOpen={showAddTabDialog} handleSave={handleAddTab}\n                      handleClose={handleAddTabClose}/>\n        <Onboarding run={!isWatchedOboarding(Onboardings.MAIN)} type={Onboardings.MAIN}/>\n    </>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport ReactGA from 'react-ga';\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\n\nReactGA.initialize(\"UA-160685541-1\");\nReactGA.pageview(window.location.pathname);\n\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#354955',\n        },\n        secondary: {\n            main: '#F7A942',\n        },\n    },\n});\nReactDOM.render(<ThemeProvider theme={theme}><App/></ThemeProvider>,\n    document.getElementById('root'));\n\ndocument.body.style.margin = '0';\n"],"sourceRoot":""}