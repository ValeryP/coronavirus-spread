{"version":3,"sources":["Chart.tsx","Prediction.tsx","DailyNewDeaths.tsx","DeathsPerMillion.tsx","TestsPerCountry.tsx","ConfirmedPerCountry.tsx","SpeedOfGrowth.tsx","SymptomsAndFatality.tsx","App.tsx","index.tsx"],"names":["Chart","labelsPlot","dataExistingPlot","dataPredictedPlot","country","color","commonLineStyle","backgroundColor","borderColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","pointBackgroundColor","fill","lineTension","borderCapStyle","borderDashOffset","borderJoinStyle","pointBorderWidth","pointHoverRadius","pointHoverBorderWidth","pointHitRadius","pastLineStyle","borderDash","pointRadius","predictionLineStyle","data","labels","datasets","label","width","height","legend","octokit","Octokit","require","useStyles","makeStyles","theme","createStyles","root","marginLeft","margin","spacing","textAlign","formControl","minWidth","footer","opacity","latestUpdate","chart","infoIcon","palette","grey","A200","paddingTop","Prediction","classes","types","daysMapping","useCookies","cookies","setCookie","useState","setLabels","setCountry","dataType","setDataType","countries","setCountries","days","setDays","setData","lastUpdate","setLastUpdate","inputCountryLabel","React","useRef","labelCountryWidth","setLabelCountryWidth","inputDaysLabel","labelDaysWidth","setLabelDaysWidth","inputDataTypeLabel","labelDataTypeWidth","setLabelDataTypeWidth","useEffect","current","offsetWidth","handleCountryChange","event","newCountry","target","value","ReactGA","category","action","path","handleDaysChange","newRange","_","findKey","handleDataTypeChange","newType","Papa","parse","skipEmptyLines","header","download","delimiter","complete","results","map","slice","keys","strDate","moment","add","toDate","concat","sortBy","row","length","repos","listCommits","owner","repo","then","x","latestCommitTime","values","fromNow","Grid","container","direction","justify","alignItems","className","item","FormControl","variant","InputLabel","ref","id","Select","labelId","onChange","labelWidth","index","MenuItem","key","nextDayPrediction","allDays","currentDate","indexOf","format","lastPart","mults","reduce","acc","i","previousValue","isNaN","remove","filter","avgMult","mean","range","v","Math","round","last","zipLabelsWithValues","dateLabels","zipObject","buildPrediction","labelsNormalized","existingData","predictionAcc","take","date","nextDayPredicted","findIndex","undefined","startingDay","Date","now","buildNextDaysLabels","dataPerCountry","countryToCheck","casesSelection","String","sum","Number","find","isComplexRegion","region","split","state","getCasesPerCountry","prediction","indexOfFirstPacient","accuracy","deviationsAll","zipWith","existing","predicted","biggerVal","max","smallerVal","min","abs","rangeStart","deviations","calculateAccuracy","NaN","predictionTomorrow","findLast","Typography","ReactHtmlParser","lowerCase","Tooltip","title","arrow","TransitionComponent","Fade","buildChart","OutboundLink","eventLabel","to","marginTop","DailyNewDeaths","xs","src","style","border","DeathsPerMillion","rootBottom","marginBottom","TestsPerCountry","ConfirmedPerCountry","SpeedOfGrowth","paddingLeft","paddingRight","img","SymptomsAndFatality","Container","alt","TabPanel","props","children","other","component","role","hidden","aria-labelledby","Box","p","App","setValue","buildTabTitle","name","Tab","onClick","handleTabClick","AppBar","position","Tabs","newValue","aria-label","ind","initialize","pageview","window","location","pathname","createMuiTheme","ReactDOM","render","ThemeProvider","document","getElementById","body"],"mappings":"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","file":"static/js/main.089e9c25.chunk.js","sourcesContent":["import React from 'react';\nimport {Line} from 'react-chartjs-2';\n\nexport default function Chart({labelsPlot, dataExistingPlot, dataPredictedPlot, country, color}: { labelsPlot: string[], dataExistingPlot: number[], dataPredictedPlot: number[], country: string, color: string }) {\n    const commonLineStyle = {\n        backgroundColor: color + 'AA',\n        borderColor: color,\n        pointBorderColor: color,\n        pointHoverBackgroundColor: color,\n        pointHoverBorderColor: color + '33',\n        pointBackgroundColor: '#fff',\n        fill: false,\n        lineTension: 0.1,\n        borderCapStyle: 'butt',\n        borderDashOffset: 0.0,\n        borderJoinStyle: 'miter',\n        pointBorderWidth: 1,\n        pointHoverRadius: 10,\n        pointHoverBorderWidth: 2,\n        pointHitRadius: 10\n    };\n    const pastLineStyle = {...commonLineStyle, borderDash: [], pointRadius: 3};\n    const predictionLineStyle = {\n        ...commonLineStyle,\n        borderDash: [5, 2],\n        pointRadius: 2,\n        backgroundColor: '#000AA',\n        borderColor: '#2196f3',\n        pointHoverRadius: 5,\n        pointBorderColor: '#2196f3',\n        pointHoverBackgroundColor: '#2196f3',\n        pointHoverBorderColor: '#00033'\n    };\n\n    return <Line data={{\n        labels: labelsPlot,\n        datasets: [\n            {...pastLineStyle, label: country, data: dataExistingPlot},\n            {...predictionLineStyle, label: country + ' (predicted)', data: dataPredictedPlot}\n        ]\n    }} width={100} height={40} legend={null}/>;\n}","import React, {useEffect, useState} from 'react';\nimport Papa from 'papaparse';\nimport Chart from \"./Chart\";\nimport {\n    Fade,\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n    Tooltip,\n    Typography\n} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport _, {Dictionary} from \"lodash\";\nimport ReactGA from 'react-ga';\nimport moment from \"moment\";\nimport {useCookies} from \"react-cookie\";\nimport InfoRoundedIcon from '@material-ui/icons/InfoRounded';\nimport ReactHtmlParser from 'react-html-parser';\n\nconst {Octokit} = require(\"@octokit/rest\");\nconst octokit = new Octokit();\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginLeft: 0,\n            margin: theme.spacing(2),\n            textAlign: 'center'\n        },\n        formControl: {\n            margin: theme.spacing(2),\n            minWidth: 100,\n        },\n        footer: {\n            opacity: 0.5\n        },\n        latestUpdate: {\n            opacity: 0.5\n        },\n        chart: {\n            width: '90%'\n        },\n        infoIcon: {\n            color: theme.palette.grey.A200,\n            height: theme.spacing(2),\n            width: theme.spacing(2),\n            paddingTop: theme.spacing(1),\n            marginLeft: theme.spacing(1) / 4\n        },\n    }),\n);\n\nfunction Prediction() {\n    const classes = useStyles();\n    const baseUrl = \"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-\";\n    const types = {\n        'Confirmed': '#f57c00',\n        'Deaths': '#FC562E',\n        'Recovered': '#388e3c'\n    };\n    const daysMapping = {\n        'Tomorrow': 1,\n        '2 days': 2,\n        '3 days': 3,\n        '1 week': 7\n    }\n    const [cookies, setCookie] = useCookies(['saved-prefs']);\n\n    const [labels, setLabels] = useState([] as Date[]);\n    const [country, setCountry] = useState(cookies['country'] || 'Worldwide');\n    const [dataType, setDataType] = useState(cookies['type'] || 'Confirmed');\n    const [countries, setCountries] = useState([] as string[]);\n    const [days, setDays] = useState(cookies['prediction'] || 1);\n    const [data, setData] = useState([] as any[]);\n    const [lastUpdate, setLastUpdate] = useState('');\n\n    const inputCountryLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelCountryWidth, setLabelCountryWidth] = React.useState(0);\n    const inputDaysLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelDaysWidth, setLabelDaysWidth] = React.useState(0);\n    const inputDataTypeLabel = React.useRef<HTMLLabelElement>(null);\n    const [labelDataTypeWidth, setLabelDataTypeWidth] = React.useState(0);\n\n    React.useEffect(() => {\n        setLabelCountryWidth(inputCountryLabel.current!.offsetWidth);\n        setLabelDaysWidth(inputDaysLabel.current!.offsetWidth);\n        setLabelDataTypeWidth(inputDataTypeLabel.current!.offsetWidth);\n    }, []);\n\n    const handleCountryChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newCountry = event.target.value as string;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Country',\n            label: newCountry\n        });\n        setCookie('country', newCountry, {path: '/'});\n        setCountry(newCountry);\n    };\n\n    const handleDaysChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newRange = event.target.value as number;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Range',\n            label: _.findKey(newRange)\n        });\n        setCookie('prediction', newRange, {path: '/'});\n        setDays(newRange);\n    };\n\n    const handleDataTypeChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let newType = event.target.value as string;\n        ReactGA.event({\n            category: 'Select',\n            action: 'Type',\n            label: newType\n        });\n        setCookie('type', newType, {path: '/'});\n        setDataType(newType);\n    };\n\n    const loadData = () => {\n        Papa.parse(baseUrl + dataType + '.csv', {\n            skipEmptyLines: true, header: true, download: true, delimiter: ',',\n            complete: function (results) {\n                let data = results.data;\n                let labels = _.map(_.slice(_.keys(data[0]), 4), (strDate) => moment(strDate).add(1, 'days').toDate())\n                let countries = _.concat(['Worldwide'], _.sortBy(data.map(row => row['Province/State'].length > 0 ? `${row['Country/Region']}/${row['Province/State']}` : row['Country/Region'])));\n                setCountries(countries)\n                setLabels(labels)\n                setData(data)\n            }\n        });\n    }\n\n    const loadLastUpdateTime = () => {\n        octokit.repos.listCommits({\n            owner: 'CSSEGISandData',\n            repo: 'COVID-19'\n        }).then((x: any) => {\n            const latestCommitTime = _.values(x['data'])[0]['commit']['committer']['date']\n            setLastUpdate(moment(latestCommitTime).fromNow());\n        });\n    }\n\n    useEffect(loadData, [dataType]);\n    useEffect(loadLastUpdateTime, []);\n\n    function buildTypeSelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputDataTypeLabel}\n                            id=\"select-type-input-id\">Type</InputLabel>\n                <Select\n                    labelId=\"select-type-select-label\"\n                    id=\"select-type-select-id\"\n                    value={dataType}\n                    onChange={handleDataTypeChange}\n                    labelWidth={labelDataTypeWidth}\n                >\n                    {\n                        _.map(_.keys(types), (value, index) => <MenuItem key={index}\n                                                                         value={value}>{value}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildCountrySelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputCountryLabel}\n                            id=\"select-country-input-id\">Location</InputLabel>\n                <Select\n                    labelId=\"select-country-select-label\"\n                    id=\"select-country-select-id\"\n                    value={country}\n                    onChange={handleCountryChange}\n                    labelWidth={labelCountryWidth}\n                >\n                    {\n                        countries.map((country, index) =>\n                            <MenuItem key={index} value={country}>{country}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildDaysSelect() {\n        return <>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n                <InputLabel ref={inputDaysLabel}\n                            id=\"select-days-input-id\">Prediction</InputLabel>\n                <Select\n                    labelId=\"select-days-select-label\"\n                    id=\"select-days-select-id\"\n                    value={days}\n                    onChange={handleDaysChange}\n                    labelWidth={labelDaysWidth}\n                >\n                    {\n                        _.map(daysMapping, (values, key) => <MenuItem key={values}\n                                                                      value={values}>{key}</MenuItem>)\n                    }\n                </Select>\n            </FormControl>\n        </>\n    }\n\n    function buildChart() {\n        function getCasesPerCountry(countryToCheck: string): string[] {\n            if (countryToCheck === 'Worldwide') {\n                let casesSelection = _.map(data, x => _.slice(_.values(x), 4) as string[]);\n                return _.filter(_.reduce(casesSelection, (acc, value, index) => {\n                    acc[index] = String(_.sum(_.map(casesSelection, (row => Number(row[index])))));\n                    return acc\n                }, [] as string[]), (value) => Number(value) > 0);\n            } else {\n                return _.slice(_.values(_.find(data, row => {\n                    let isComplexRegion = _.indexOf(countryToCheck, '/') !== -1;\n                    const region = isComplexRegion ? _.split(countryToCheck, '/')[0] : countryToCheck\n                    const state = isComplexRegion ? _.split(countryToCheck, '/')[1] : \"\"\n                    return row['Country/Region'] === region && row['Province/State'] === state\n                })), 4) as string[];\n            }\n        }\n\n        function buildNextDaysLabels(startingDay: Date, days: number): Date[] {\n            return _.reduce(_.range(1, +days + +1), (acc, v, i) => {\n                acc[i] = moment(startingDay || Date.now()).add(i + 1, \"days\").toDate();\n                return acc\n            }, [] as Date[]);\n        }\n\n        function nextDayPrediction(allDays: Dictionary<number>, currentDate: Date) {\n            const predictionSampleSize = 5;\n            const index = _.indexOf(_.keys(allDays), moment(currentDate).format('l'))\n            const lastPart = _.slice(_.values(allDays), index - predictionSampleSize, index + 1);\n            const mults = _.reduce(lastPart, (acc, value, i) => {\n                let previousValue = lastPart[i - 1];\n                if (i > 0 && previousValue > 0 && !isNaN(value) && !isNaN(previousValue)) {\n                    acc[i - 1] = value / previousValue\n                }\n                return acc\n            }, [] as number[])\n            let remove = _.filter(mults, x => !_.isNaN(x));\n            const avgMult = _.mean(remove) || 1\n            return _.reduce(_.range(1, 2), (acc, v, i) => {\n                acc[i] = Math.round(_.reduce(_.range(0, v), (acc) => acc * avgMult, 1) * (_.last(lastPart) || 0));\n                return acc\n            }, [] as number[])[0];\n        }\n\n        function onlyValidNumbers(values: number[]) {\n            return _.filter(values, (v) => v !== undefined);\n        }\n\n        function zipLabelsWithValues(dateLabels: Date[], values: number[]): Dictionary<number> {\n            return _.zipObject(dateLabels.map(x => moment(x).format('l')), values);\n        }\n\n        function buildPrediction(labelsNormalized: Date[], existingData: Dictionary<number>, range: number) {\n            let oneDayPrediction = _.concat([0], _.take(_.map(labelsNormalized, (date: Date) => nextDayPrediction(existingData, date)), _.values(existingData).length));\n            let predictionAcc = zipLabelsWithValues(labelsNormalized, oneDayPrediction);\n            for (let i = 1; i < range; i++) {\n                const targetDay = labelsNormalized[_.findIndex(_.values(predictionAcc), v => v === undefined) - 1]\n                const nextDayPredicted = nextDayPrediction(predictionAcc, targetDay)\n                const newPredictionSerie = _.concat(onlyValidNumbers(_.values(predictionAcc)), [nextDayPredicted]);\n                predictionAcc = zipLabelsWithValues(labelsNormalized, newPredictionSerie)\n            }\n            return _.values(predictionAcc);\n        }\n\n        function calculateAccuracy(dataExistingPlot: number[], dataPredictedPlot: number[], days: number) {\n            function mismatchPercentage(existing: number, predicted: number) {\n                if (existing === predicted) {\n                    return 0;\n                } else if (existing === 0 || predicted === 0) {\n                    return (existing + predicted) * 100\n                } else {\n                    const biggerVal = _.max([existing, predicted])!;\n                    const smallerVal = _.min([existing, predicted])!;\n                    return Math.abs(1 - biggerVal / smallerVal) * 100;\n                }\n            }\n\n            const deviationAgeDays = 7;\n            const deviationsAll = _.zipWith(dataExistingPlot, dataPredictedPlot, mismatchPercentage);\n            const rangeStart = deviationsAll.length - days - deviationAgeDays < 0 ? 0 : deviationsAll.length - days - deviationAgeDays;\n            const deviations = _.slice(deviationsAll, rangeStart, rangeStart + deviationAgeDays).filter(x => !isNaN(x));\n            const acc = _.round(100 - _.mean(deviations), 1);\n            if (acc <= 0) {\n                return 1;\n            } else if (acc >= 100) {\n                return 99;\n            } else {\n                return acc;\n            }\n        }\n\n        const labelsNormalized = _.concat(labels, buildNextDaysLabels(_.last(labels)!, days));\n        const dataPerCountry = getCasesPerCountry(country).map(Number);\n        const existingData = zipLabelsWithValues(labels, dataPerCountry);\n        const prediction = buildPrediction(labelsNormalized, existingData, days)\n        let indexOfFirstPacient = _.findIndex(_.values(existingData), (x) => x > 0) - 1\n        indexOfFirstPacient = indexOfFirstPacient < 0 ? 0 : indexOfFirstPacient\n        let dataExistingPlot = _.values(existingData).slice(indexOfFirstPacient);\n        let dataPredictedPlot = _.values(prediction).slice(indexOfFirstPacient);\n        let labelsPlot = labelsNormalized.slice(indexOfFirstPacient).map(date => moment(date).format('ll'));\n        const accuracy = calculateAccuracy(dataExistingPlot, dataPredictedPlot, days);\n        if (accuracy < 60) {\n            dataPredictedPlot = dataPredictedPlot.map(_ => NaN);\n        }\n        const predictionTomorrow = _.findLast(buildPrediction(labelsNormalized, existingData, 1), (x) => x !== undefined);\n        // @ts-ignore\n        const color = types[dataType];\n        const titleTooltip = \"The accuracy calculation is based on a comparison of the last 7 days prediction and actual values of those days\"\n        return data.length\n            ? (\n                <>\n                    <Grid item>\n                        <Grid item container direction=\"row\" justify=\"center\" alignItems=\"center\">\n                            {accuracy > 60\n                                ? <>\n                                    <Grid item>\n                                        <Typography variant={\"caption\"}>\n                                            {ReactHtmlParser(`There is <strong>${accuracy}%</strong> chance to have <strong>${predictionTomorrow}</strong> ${_.lowerCase(dataType)} tomorrow (${country})`)}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <Tooltip title={titleTooltip} arrow\n                                                 TransitionComponent={Fade}>\n                                            <InfoRoundedIcon className={classes.infoIcon}/>\n                                        </Tooltip>\n                                    </Grid>\n                                </>\n                                : <>\n                                    <Typography variant={\"caption\"}>\n                                        {ReactHtmlParser(`${country} does not have enough <strong>${_.lowerCase(dataType)}</strong> cases for reliable prediction`)}\n                                    </Typography>\n                                </>}\n                        </Grid>\n                    </Grid>\n                    <Grid item>\n                        <Chart labelsPlot={labelsPlot} dataExistingPlot={dataExistingPlot}\n                               dataPredictedPlot={dataPredictedPlot} country={country}\n                               color={color}/>\n                    </Grid>\n                </>\n            )\n            : '';\n    }\n\n    function getFooter() {\n        return <Typography variant={\"caption\"}>\n            <ReactGA.OutboundLink\n                eventLabel=\"Data source\" target=\"_blank\"\n                to=\"https://github.com/CSSEGISandData/COVID-19\">\n                Data source\n            </ReactGA.OutboundLink>\n            {' â€¢ '}\n            <ReactGA.OutboundLink\n                eventLabel=\"Github\" target=\"_blank\"\n                to=\"https://github.com/ValeryP/coronavirus-spread\">\n                Github\n            </ReactGA.OutboundLink>\n        </Typography>;\n    }\n\n    function buildLastUpdateLabel() {\n        return <Typography variant={\"caption\"}>{`Latest update ${lastUpdate}`}</Typography>;\n    }\n\n    return (\n        <Grid\n            container direction=\"column\" justify=\"center\" alignItems=\"center\"\n            className={classes.root}>\n            <Grid item>\n                {buildTypeSelect()}\n                {buildCountrySelect()}\n                {buildDaysSelect()}\n            </Grid>\n            <Grid item container direction=\"column\" className={classes.chart}>\n                {buildChart()}\n            </Grid>\n            <Grid item className={classes.footer}>{getFooter()}</Grid>\n            {lastUpdate &&\n            <Grid item className={classes.latestUpdate}>{buildLastUpdateLabel()}</Grid>}\n        </Grid>\n    )\n}\n\nexport default Prediction;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        }\n    })\n);\n\nfunction DailyNewDeaths() {\n    const classes = useStyles();\n    return <>\n        <Grid container justify=\"space-evenly\" className={classes.root}>\n            <Grid item xs={6}>\n                <iframe title={\"DailyNewDeaths1\"}\n                        src=\"https://ourworldindata.org/grapher/daily-deaths-covid-19\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n            <Grid item xs={6}>\n                <iframe title={\"DailyNewDeaths2\"}\n                        src=\"https://ourworldindata.org/grapher/total-deaths-covid-19\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n\n        </Grid>\n    </>\n}\n\nexport default DailyNewDeaths;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        }\n    })\n);\n\nfunction DeathsPerMillion() {\n    const classes = useStyles();\n    return <>\n        <Grid container justify=\"space-evenly\" className={classes.root}>\n            <Grid item xs={5}>\n                <iframe title={\"DeathsPerMillion1\"}\n                        src=\"https://ourworldindata.org/grapher/total-covid-deaths-per-million\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n            <Grid item xs={7}>\n                <iframe title={\"DeathsPerMillion2\"}\n                        src=\"https://ourworldindata.org/grapher/new-covid-deaths-per-million\"\n                        style={{width: '100%', height: 600, border: 0}}/>\n            </Grid>\n\n        </Grid>\n    </>\n}\n\nexport default DeathsPerMillion;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        },\n        rootBottom: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(12),\n        }\n    })\n);\n\nfunction TestsPerCountry() {\n    const classes = useStyles();\n    return <>\n        <Grid container direction=\"column\" className={classes.root}>\n            <Grid container item justify=\"space-evenly\" className={classes.root}>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry1\"}\n                            src=\"https://ourworldindata.org/grapher/tests-vs-confirmed-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry2\"}\n                            src=\"https://ourworldindata.org/grapher/covid-19-tests-country\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n\n            </Grid>\n            <Grid container item justify=\"space-evenly\" className={classes.rootBottom}>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry3\"}\n                            src=\"https://ourworldindata.org/grapher/tests-vs-confirmed-cases-covid-19-per-million\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"TestsPerCountry4\"}\n                            src=\"https://ourworldindata.org/grapher/covid19-tests-per-million-people\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n            </Grid>\n        </Grid>\n    </>\n}\n\nexport default TestsPerCountry;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: theme.spacing(1),\n        },\n        rootBottom: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(12),\n        }\n    })\n);\n\nfunction ConfirmedPerCountry() {\n    const classes = useStyles();\n    return <>\n        <Grid container direction=\"column\" className={classes.root}>\n            <Grid container item justify=\"space-evenly\" className={classes.root}>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry1\"}\n                            src=\"https://ourworldindata.org/grapher/total-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry2\"}\n                            src=\"https://ourworldindata.org/grapher/daily-cases-covid-19\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n\n            </Grid>\n            <Grid container item justify=\"space-evenly\" className={classes.rootBottom}>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry3\"}\n                            src=\"https://ourworldindata.org/grapher/total-confirmed-cases-of-covid-19-per-million-people\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n                <Grid item xs={6}>\n                    <iframe title={\"ConfirmedPerCountry4\"}\n                            src=\"https://ourworldindata.org/grapher/new-covid-cases-per-million?year=59\"\n                            style={{width: '100%', height: 600, border: 0}}/>\n                </Grid>\n            </Grid>\n        </Grid>\n    </>\n}\n\nexport default ConfirmedPerCountry;\n","import React from 'react';\nimport {Grid} from \"@material-ui/core\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(1),\n        }\n    })\n);\n\nfunction SpeedOfGrowth() {\n    const classes = useStyles();\n    return <>\n        <Grid container className={classes.root}>\n            <iframe title={\"SpeedOfGrowth\"}\n                    src=\"https://ourworldindata.org/grapher/covid-confirmed-cases-since-100th-case\"\n                    style={{width: '99%', height: 600, border: 0}}/>\n        </Grid>\n    </>\n}\n\nexport default SpeedOfGrowth;\n","import React from 'react';\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {Container} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            paddingLeft: 200,\n            paddingRight: 200,\n        },\n        img: {\n            margin: theme.spacing(2),\n            marginTop: theme.spacing(4),\n            width: '100%'\n        }\n    })\n);\n\nfunction SymptomsAndFatality() {\n    const classes = useStyles();\n    return <>\n        <Container className={classes.root}>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-Symptoms-%E2%80%93-WHO-joint-mission-2-1536x823.png'}/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Severity-of-coronavirus-cases-in-China-1-1536x1322.png'}/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-CFR-by-age-in-China-1.png'}/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Coronavirus-CFR-by-health-condition-in-China.png'}/>\n            <img className={classes.img} alt={\"\"}\n                 src={'https://ourworldindata.org/uploads/2020/03/Covid-19-CFR-by-age-vs.-US-Seasonal-Flu-3.png'}/>\n        </Container>\n    </>\n}\n\nexport default SymptomsAndFatality;\n","import React from 'react';\nimport Prediction from \"./Prediction\";\nimport {AppBar, Box, Tab, Tabs, Typography} from \"@material-ui/core\";\nimport _ from \"lodash\";\nimport DailyNewDeaths from \"./DailyNewDeaths\";\nimport DeathsPerMillion from \"./DeathsPerMillion\";\nimport TestsPerCountry from \"./TestsPerCountry\";\nimport ConfirmedPerCountry from \"./ConfirmedPerCountry\";\nimport SpeedOfGrowth from \"./SpeedOfGrowth\";\nimport SymptomsAndFatality from \"./SymptomsAndFatality\";\nimport ReactGA from \"react-ga\";\n\n\ninterface TabPanelProps {\n    children?: React.ReactNode;\n    index: any;\n    value: any;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n    const {children, value, index, ...other} = props;\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && <Box p={0}>{children}</Box>}\n        </Typography>\n    );\n}\n\nfunction App() {\n    const [value, setValue] = React.useState(0);\n\n    const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n        setValue(newValue);\n    };\n\n    function handleTabClick(name: string) {\n        ReactGA.event({\n            category: 'Click',\n            action: 'Tab',\n            label: name\n        });\n    }\n\n    function buildTabTitle(name: string, index: number) {\n        return <Tab onClick={() => handleTabClick(name)} label={name} {...{\n            id: `simple-tab-${index}`,\n            'aria-controls': `simple-tabpanel-${index}`,\n        }} />\n    }\n\n    const tabs = ['Prediction', 'Daily new deaths', 'Deaths per million', 'Tests by country',\n        'Daily new confirmed', 'Speed of growth', 'Symptoms and fatality']\n\n    return <>\n        <AppBar position=\"static\">\n            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                {_.map(tabs, (v, ind) => buildTabTitle(v, ind))}\n            </Tabs>\n        </AppBar>\n        <TabPanel value={value} index={0}>\n            <Prediction/>\n        </TabPanel>\n        <TabPanel value={value} index={1}>\n            <DailyNewDeaths/>\n        </TabPanel>\n        <TabPanel value={value} index={2}>\n            <DeathsPerMillion/>\n        </TabPanel>\n        <TabPanel value={value} index={3}>\n            <TestsPerCountry/>\n        </TabPanel>\n        <TabPanel value={value} index={4}>\n            <ConfirmedPerCountry/>\n        </TabPanel>\n        <TabPanel value={value} index={5}>\n            <SpeedOfGrowth/>\n        </TabPanel>\n        <TabPanel value={value} index={6}>\n            <SymptomsAndFatality/>\n        </TabPanel>\n    </>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport ReactGA from 'react-ga';\nimport {createMuiTheme, ThemeProvider} from '@material-ui/core/styles';\n\nReactGA.initialize(\"UA-160685541-1\");\nReactGA.pageview(window.location.pathname);\n\nconst theme = createMuiTheme();\nReactDOM.render(<ThemeProvider theme={theme}><App/></ThemeProvider>,\n    document.getElementById('root'));\n\ndocument.body.style.margin = '0';\n"],"sourceRoot":""}