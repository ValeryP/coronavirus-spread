(this["webpackJsonpcoronavirus-spread"]=this["webpackJsonpcoronavirus-spread"]||[]).push([[0],{188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(14),l=a(77),u=a.n(l),s=a(38),d=a(78),m=a(6),f=a.n(m);function b(e){var t=e.labels,a=e.dataPerCountry,n=e.country,c=e.days,o=e.color,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l={backgroundColor:o+"AA",borderColor:o,pointBorderColor:o,pointHoverBackgroundColor:o,pointHoverBorderColor:o+"33",pointBackgroundColor:"#fff",fill:!1,lineTension:.1,borderCapStyle:"butt",borderDashOffset:0,borderJoinStyle:"miter",pointBorderWidth:1,pointHoverRadius:10,pointHoverBorderWidth:2,pointHitRadius:10},u=Object(s.a)({},l,{borderDash:[],pointRadius:3}),m=Object(s.a)({},l,{borderDash:[5,5],pointRadius:5});function b(e){return new Date(e).getDate()+" "+i[new Date(e).getMonth()]+", "+new Date(e).getFullYear()}function p(){var e=function(e){var t=f.a.slice(a,a.length-e-1).filter((function(e){return"0"!==e})).length;return t<e?t-1:e}(3),t=f.a.slice(a,a.length-e-1).map((function(e){return Number(e)})),n=t.map((function(e,a){return 0===a?0:e-t[a-1]})).map((function(e,a){return 1+e/t[a]})),r=f.a.slice(n,n.length-e),o=r.reduce((function(e,t){return e+t}),0)/r.length||0;return f.a.reduce(f.a.range(1,c+1),(function(e,a,n){return e[n]=Math.round(f.a.reduce(f.a.range(0,a),(function(e){return e*o}),1)*(f.a.last(t)||0)),e}),[])}return r.a.createElement(d.a,{data:function(){var e=f.a.slice(p(),0,c),r=function(e){return f.a.reduce(e,(function(e,a,n){var r=new Date(f.a.last(t)||Date.now());return r.setDate(r.getDate()+n+2),e[n]=r.toISOString().slice(0,-14),e}),[])}(e),o=f.a.concat(a.map((function(e){return Number(e)})),e.map((function(){return NaN}))),i=f.a.concat(a.map((function(e,t){return t!==a.length-1?NaN:e})),e),l=f.a.concat(t,r).map(b),d=f.a.findIndex(o,(function(e){return e>0}))-1;return d=d<0?0:d,{labels:l.slice(d),datasets:[Object(s.a)({},u,{label:n,data:o.slice(d)}),Object(s.a)({},m,{label:n+" (predicted)",data:i.slice(d)})]}}(),width:100,height:45,legend:null})}var p=a(219),v=a(227),g=a(224),h=a(225),y=a(221),E=a(222),O=a(216),C=a(226),S=a(13),j=Object(O.a)((function(e){return Object(C.a)({root:{marginLeft:0,margin:e.spacing(2),textAlign:"center"},formControl:{margin:e.spacing(2),minWidth:100},footer:{marginTop:e.spacing(2),opacity:.5},chart:{width:"95%",height:"95%"}})}));var k=function(){var e=j(),t={Confirmed:"#2C98F0",Deaths:"#FC562E",Recovered:"#52AF55"},a={Tomorrow:1,"2 days":2,"3 days":3,"4 days":4,"5 days":5,"1 week":7,"2 weeks":14,"3 weeks":21,"1 month":31},c=Object(n.useState)([]),o=Object(i.a)(c,2),l=o[0],s=o[1],d=Object(n.useState)("Worldwide"),m=Object(i.a)(d,2),O=m[0],C=m[1],k=Object(n.useState)("Confirmed"),w=Object(i.a)(k,2),D=w[0],N=w[1],_=Object(n.useState)([]),R=Object(i.a)(_,2),W=R[0],I=R[1],F=Object(n.useState)(1),L=Object(i.a)(F,2),B=L[0],A=L[1],P=Object(n.useState)([]),J=Object(i.a)(P,2),H=J[0],T=J[1],x=r.a.useRef(null),G=r.a.useState(0),M=Object(i.a)(G,2),V=M[0],z=M[1],K=r.a.useRef(null),U=r.a.useState(0),Y=Object(i.a)(U,2),q=Y[0],Q=Y[1],X=r.a.useRef(null),Z=r.a.useState(0),$=Object(i.a)(Z,2),ee=$[0],te=$[1];r.a.useEffect((function(){z(x.current.offsetWidth),Q(K.current.offsetWidth),te(X.current.offsetWidth)}),[]);var ae=function(e){var t=e.target.value;S.a.event({category:"Select",action:"Country",label:t}),C(t)},ne=function(e){var t=e.target.value;S.a.event({category:"Select",action:"Range",label:f.a.findKey(t)}),A(t)},re=function(e){var t=e.target.value;S.a.event({category:"Select",action:"Type",label:t}),N(t)};return Object(n.useEffect)((function(){u.a.parse("https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-"+D+".csv",{skipEmptyLines:!0,header:!0,download:!0,delimiter:",",complete:function(e){!function(e){var t=e.data,a=f.a.slice(f.a.keys(t[0]),4),n=f.a.concat(["Worldwide"],f.a.sortBy(t.map((function(e){return e["Province/State"].length>0?"".concat(e["Country/Region"],"/").concat(e["Province/State"]):e["Country/Region"]}))));I(n),s(a),T(t)}(e)}})}),[D]),r.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:e.root},r.a.createElement(E.a,{item:!0},r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"outlined",className:e.formControl},r.a.createElement(v.a,{ref:X,id:"select-type-input-id"},"Type"),r.a.createElement(g.a,{labelId:"select-type-select-label",id:"select-type-select-id",value:D,onChange:re,labelWidth:ee},f.a.map(f.a.keys(t),(function(e,t){return r.a.createElement(h.a,{key:t,value:e},e)}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"outlined",className:e.formControl},r.a.createElement(v.a,{ref:x,id:"select-country-input-id"},"Location"),r.a.createElement(g.a,{labelId:"select-country-select-label",id:"select-country-select-id",value:O,onChange:ae,labelWidth:V},W.map((function(e,t){return r.a.createElement(h.a,{key:t,value:e},e)}))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{variant:"outlined",className:e.formControl},r.a.createElement(v.a,{ref:K,id:"select-days-input-id"},"Prediction"),r.a.createElement(g.a,{labelId:"select-days-select-label",id:"select-days-select-id",value:B,onChange:ne,labelWidth:q},f.a.map(a,(function(e,t){return r.a.createElement(h.a,{key:e,value:e},t)})))))),r.a.createElement(E.a,{item:!0,className:e.chart},function(){var e=t[D],a=function(e){if("Worldwide"===e){var t=f.a.map(H,(function(e){return f.a.slice(f.a.values(e),4)}));return f.a.filter(f.a.reduce(t,(function(e,a,n){return e[n]=String(f.a.sum(f.a.map(t,(function(e){return Number(e[n])})))),e}),[]),(function(e){return Number(e)>0}))}return f.a.slice(f.a.values(f.a.find(H,(function(t){var a=-1!==f.a.indexOf(e,"/"),n=a?f.a.split(e,"/")[0]:e,r=a?f.a.split(e,"/")[1]:"";return t["Country/Region"]===n&&t["Province/State"]===r}))),4)}(O);return H.length?r.a.createElement(b,{labels:l,dataPerCountry:a,country:O,days:B,color:e}):""}()),r.a.createElement(E.a,{item:!0,className:e.footer},r.a.createElement(y.a,{variant:"caption"},r.a.createElement(S.a.OutboundLink,{eventLabel:"Data source",target:"_blank",to:"https://github.com/CSSEGISandData/COVID-19"},"Data source")," | ",r.a.createElement(S.a.OutboundLink,{eventLabel:"Feedback",target:"_blank",to:"https://t.me/coronavirus_spread"},"Feedback")," | ",r.a.createElement(S.a.OutboundLink,{eventLabel:"Github",target:"_blank",to:"https://github.com/ValeryP/coronavirus-spread"},"Github"))))},w=a(84),D=a(223);S.a.initialize("UA-160685541-1"),S.a.pageview(window.location.pathname);var N=Object(w.a)();o.a.render(r.a.createElement(D.a,{theme:N},r.a.createElement(k,null)),document.getElementById("root"))},88:function(e,t,a){e.exports=a(188)}},[[88,1,2]]]);
//# sourceMappingURL=main.aed02477.chunk.js.map